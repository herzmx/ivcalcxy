<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!-- 
This program has been written by Heracles Papatheodorou a.k.a Arty2, webmaster of www.legendarypokemon.net
You can contact the author via email: legendarypokemon {at} gmail {dot} com or AIM: LPArty2

Please pardon the code mess that follows since it's always a work in progress :]
Be my guest if you think you can improve one of the following algorithms; I am not a programmer by profession.
I tried to provide subtle documentation here and there; the complex parts are at least covered.
Source is uncompressed, for educational (?) purposes.


The latest version this program can be always found at http://www.legendarypokemon.net/ivcalcxy.html 
-->
<title>Calculadora XY de Valores Individuales y Stats - www.pokexperto.net</title>
<meta name="Author" content="Heracles Papatheodorou" />
<meta name="keywords" content="Pokemon, IVs, IV, Calculator, Individual, Values, Stats, Stat, Hidden Power, Poder Oculto, Valores Individuales, Calculadora" />
<meta name="description" content="This IV Calculator / Stat Calculator / Hidden Power Calculator aims to help Pokemon trainers calculate the attributes of their Pokemon." />
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFFJREFUOMu1kjEOACAIA/ng/f87Lo4WimgTo4M9G0vEWexlCbG3hDiPE5A81E5DcVeaEJ9KBcAAxFdABsFtBSOJVV0KYAq46Zuno2xNl2tsmxeYhhbdfJzuqAAAAABJRU5ErkJggg==" />
<style title="default" media="all" type="text/css">
body {
	background: #b5bdb9;
	margin: 0;
	padding: 0;
	text-align: center;
}
#calculator * { /* global styles */
	font: 12px Verdana, Geneva, Kalimati, sans-serif;
	-moz-border-radius: 3px;
	-webkit-border-radius: 3px; -webkit-background-clip: padding-box !important;
	border-radius: 3px;
	border-color: inherit;
	line-height: 14px;
	margin: 0;
}
#calculator {
	background: #b5bdb9;
	border-bottom: 1px dotted; /* remove this when including */
	border-color: #838986; /* universal border color */
	color: #3e4340;
	padding-top: 15px;
	text-align: center;
	/*text-shadow: #b5bdb9 1px 1px 0px;
	text-shadow: rgba(255, 255, 255, 0.5) 1px 1px 0px;*/
}
#calculator ::-moz-selection { background:#e4287c; color:#fff; }
#calculator ::selection { background:#e4287c; color:#fff; }
#calculator strong { font-weight: bold !important; }
#calculator em { font-style: italic !important; }
#calculator img { border: none; }
#calculator input, #calculator select {
	background-color: #fff;
	border: 1px solid;
	border-color: #737b76; /* universal input color */
	color: #000;
	padding: 1px;
	text-align: right;
	text-shadow: none;
	-moz-transition: border-color 0.2s ease-in-out;
	-webkit-transition: border-color 0.2s ease-in-out;
	-o-transition: border-color 0.2s ease-in-out;
	transition: border-color 0.2s ease-in-out;
}
#calculator select {
	height: 18px;
	text-align: left;
	width: 100%;
}
#calculator optgroup { 
	font-weight: bold;
	margin: 4px 0 0 0;
}
#calculator option { padding: 0 0 0 4px; }
#calculator input:focus, #calculator select:focus {
	outline: 3px double #e4287c;
	border-color: #fff;
	-moz-border-radius: 0 !important;
	-webkit-border-radius: 0 !important;
	border-radius: 0 !important;
	position: relative;
	text-decoration: none;
}
#calculator .radio {
	-moz-border-radius: 10px !important;
	-webkit-border-radius: 10px !important;
	border-radius: 10px !important;
}
#calculator a {
	color: inherit;
	font-style: italic;
	text-decoration: none;
}
#calculator table {
	border-collapse: collapse;
	border-spacing: 0;
	table-layout: fixed;
	width: 100%;
}
#calculator td {
	padding: 3px;
	text-align: center;
	}
#calculator dt, #calculator #documentation h3 {
	font-weight: bold !important;
	text-align: left;
}
#calculator p, #calculator dd {
	text-align: left;
	margin: 3px 0 3px 15px !important;
}
#calculator h1 {
	font: small-caps bold 15px sans-serif !important;
	margin: 3px;
}
#calculator h2 {
	border-bottom: 1px dotted;
	font: bold 11px Verdana, Geneva, Kalimati, sans-serif;
	text-align: left;
	text-transform: uppercase;
}
#calculator h3 {
	border-bottom: 1px dotted;
	font: small-caps bold 12px Verdana, Geneva, Kalimati, sans-serif;
}
#calculator #documentation h3 { margin: 5px 0 0 0; }
#calculator #documentation h2 { margin: 10px 0 3px 0; }
#calculator h4 {
	font: bold 11px Arial, sans-serif;
	text-align: right !important;
}
#calculator #head td { vertical-align: middle; }
#calculator #documentation td { padding: 0 5px !important; }
#calculator #documentation a { text-shadow: 1px 1px 2px #3e4340; color: #fff; }
#calculator #documentation a:hover { color: #e4287c; }
#toggleinstructions, #togglehistory, #toggleinfo, .button, .btn { cursor: pointer; }
#status { cursor: text;	}
#controls {
	border-top: 2px dotted;
	border-color: inherit;
}
#bar {
	border-bottom: 2px solid;
	border-top: 1px dashed;
	border-color: inherit;
}
#nickname {
	background: none !important;
	color: #3e4340 !important;
	border-style: dotted !important;
}
#calculator .loading {
	background: url('data:image/png;base64,R0lGODlhDwAPAIABAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJGQABACwAAAAADwAPAAACGoyPqQGLzQx00c0q6aU47c+F4vaImheS5lEAACH5BAkZAAEALAAAAAAPAA8AAAIZjI+pAYv9nIwOzjutAbxrDFLLF24JeZZLAQAh+QQJGQABACwAAAAADwAPAAACGIyPqQGL/ZyMDs47rdGs4i1pYnhBZvlJBQAh+QQFGQABACwAAAAADwAPAAACGYyPqQGL/ZyMDs47gd7WdAxSyxd6CXmWSwEAOw==') 50% 100% no-repeat;
	display: inline-block;
	padding: 0 0 25px 0;
}
#calculator .button {
	background: #ced2d0 url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAWCAYAAAABxvaqAAAAGUlEQVQY02P8////GUYg8YxkogFOMBBLAACNTUydrXmzbAAAAABJRU5ErkJggg==') 50% 50% repeat-x;
	border: 2px solid;
	color: #606762;
	font-size: 10px;
	font-weight: bold;
	height: 25px;
	text-align: center;
	text-shadow: 1px 1px 1px #fff;
	width: 100%;
}
#calculator .button:focus, #calculator .button:active {
	background-image: none;
	border-color: #e4287c;
}
#calculator input:disabled {
	background: none;
	border-width: 1px;
	border-style: dashed;
	box-shadow: none !important;
	text-shadow: none !important;
}
#calculator .button:hover { border-color: #e4287c; }
#calculator .btn { font-weight: bold !important; }
#calculator .block {
	border: 2px solid;
	border-color: inherit;
	background: #9aa7a0; /* primary color */
	margin: 0 auto 20px auto !important;
	width: 750px;
}
#calculator .primary {
	border-right: 2px solid;
	border-color: inherit;
	vertical-align: top;
	width: 57% !important;
}
#calculator .secondary {
	background: #8e9892; /* secondary color */
	border-color: inherit;
	vertical-align: top;
	}
#calculator .top { vertical-align: top !important; }
#calculator .left { text-align: left !important; }
#calculator .center {
	text-align: center !important;
	vertical-align: middle !important;
}
#calculator .right { 
	text-align: right !important;
	vertical-align: top !important;
	padding-right: 6px !important;
}
#calculator #tooltip {
	background: #eee;
	border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; -webkit-background-clip: padding-box !important;
	box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -moz-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -webkit-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5);
	color: #777;
	display: none;
	font-size: 9px;
	margin: 0 30px;
	padding: 3px;
	text-align: left;
	text-shadow: none;
	position: absolute;
	z-index: 1000;
}
#calculator .error {
	color: #f00 !important;
	border-color: #f00 !important;
	font-weight: bold !important;
	text-shadow: rgba(0, 0, 0, 0.5) 1px 1px 1px !important;
}
#calculator .ok {
	color: #8d6 !important;
	font-weight: bold !important;
	text-shadow: rgba(0, 0, 0, 0.5) 1px 1px 1px !important;
}
#calculator .new {
	background: #eee;
	color: #000;
}

/* SPP Theme */
.spp { background: #383838 !important; }
.spp * { border-color: #404040 !important; text-shadow: none !important; }
.spp ::-moz-selection { background:#cb7 !important; color:#444 !important; }
.spp ::selection { background:#cb7 !important; color:#444 !important; }
.spp #documentation a { border-bottom: 1px solid #cb7 !important; }
.spp #documentation a:hover { color: #cb7 !important; }
.spp #bar, .spp #controls { border: none; }
.spp table { border-collapse: separate !important; border-spacing: 3px !important; }
.spp .block, .spp .primary, .spp #documentation .secondary { background: #404040 !important; border: none; color: #fff !important; }
.spp .secondary { background: #6f9a4c !important; color: #444; border-radius: 5px !important; }
.spp input, .spp select { background: #cb7 !important; border-color: #3b3b3b !important; color: #444 !important; }
.spp input:focus, .spp select:focus { outline: 3px solid #8d6 !important; border-color: #8d6 !important; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; text-decoration: none; position: relative; }
.spp .button:hover { border-color: #8d6 !important; color: #000 !important; }
.spp .button:disabled { background: none !important; }
.spp .new { background: #ba6 !important; }

/* isotope Theme */
.isotope { background: #4c7da2 !important; }
.isotope * { border-color: #f0f0f0 !important;	color: #2d2e2f !important; text-shadow: none !important; }
.isotope ::-moz-selection { color: #000 !important;	  background: #b6d796 !important; }
.isotope ::selection  { color: #000 !important;  background: #b6d796!important; }
.isotope #documentation a { color: #47a4fb !important; }
.isotope #documentation a:hover { color: #b5d594 !important; }
.isotope table { border-collapse: separate !important; border-spacing: 3px !important; }
.isotope .block { background: #f0f0f0 !important; border: 4px solid #f0f0f0 !important; border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -moz-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); -webkit-box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.5); }
.isotope .primary { background: #f0f0f0 !important; }
.isotope .secondary { background: #e9e9e9 !important; border: 2px solid #e9e9e9 !important; border-radius: 5px !important; -moz-border-radius: 4px; -webkit-border-radius: 4px; }
.isotope #bar { background: #b6d796 !important; border: 2px solid #aacd8b !important; border-radius: 5px !important; -moz-border-radius: 4px; -webkit-border-radius: 4px; }
.isotope input, .isotope select { border-color: #d6d6d6 !important; color: #000 !important; }
.isotope #controls { border: none !important; background: none !important;  }
.isotope .button { background: #dfdfdf !important; border-color: #888 !important; color: #555 !important; }
.isotope input:focus, .isotope select:focus { outline: 3px double #b5d594 !important; border-color: #47a4fb !important; -moz-border-radius: 0 !important; -webkit-border-radius: 0 !important; border-radius: 0 !important; text-decoration: none; position: relative; }
.isotope .button:hover { border-color: #47a4fb !important; color: #000 !important; }
.isotope input:disabled { background: none !important; }
.isotope h1, .isotope h2, .isotope h3 { border: none !important; font-family: Century Gothic, Andale Mono, Futura, sans-serif !important; }

/* Simplex Theme */
.simplex .ext { display: none; }
/* td { outline: 1px dotted red !important; }  *//* DEBUG */

</style>
<style media="print" type="text/css">
#calculator * {
	background: #fff;
	border: none !important;
	box-shadow: 0px 0px 0px #ffffff !important; -moz-box-shadow: 0px 0px 0px #ffffff !important; -webkit-box-shadow: 0px 0px 0px #ffffff !important;
	color: #000 !important;
	text-shadow: none !important;
	}
#calculator #head {
	border-bottom: 3px solid #000 !important;
	padding-bottom: 1em;
}
#calculator .block { width: 100%; }
#calculator #controls, #documentation, #btn-addeps, #times, $name, #charn { display: none; }
#calculator h2 { border-bottom: 1px solid #000 !important; }
</style>
<style type="text/css" id="thema">/* required for the "Colorize" functionality */</style>
<link href="js/select2/select2.css" rel="stylesheet"/>
<style type="text/css">
.select2-container, .select2-drop{
	text-align: left;
}

.select2-container .select2-choice{
	padding-left: 8px !important;
}

.select2-container span{
	line-height: 26px !important;
}

.select2-container input{
	border: 0 none !important;
	margin: 1px 0 !important;
	padding: 5px !important;
	text-align: left !important;
	font-size: 100% !important;
}

.select2-container input:focus {
	border-color: 0px none !important;
	outline: 0px none !important;
	border-color: transparent !important;
	-moz-border-radius: 0 !important;
	-webkit-border-radius: 0 !important;
	border-radius: 0 !important;
	position: relative;
	text-decoration: none;
}

.select2-container-multi .select2-choices {
    cursor: text !important;
}

.select2-container img {
    border: 0 none;
    height: auto;
    max-width: 100%;
    vertical-align: middle;
}
img.pkmsprite{
	width: 32px; 
	height: 32px;
	background: url('img/pkm_sprite.png') no-repeat top left;
	display: inline-block;
	vertical-align: middle;
}
.select2-container .select2-choice {
    height: auto !important;
}
</style>
<script src="js/jquery.js"></script>
<script src="js/select2/select2.js"></script>
</head>
<body> 
<div id="calculator"> <!-- Start here if you want to include this in your page -->
<script type="text/javascript">
<!--//--><![CDATA[//><!--
/* Generic functions */
function $() { // http://www.dustindiaz.com/top-ten-javascript/
	var elements = [];
	for (var i=0, j=arguments.length; i < j; i++) {
		var element = arguments[i];
		if (typeof element == 'string')
			element = document.getElementById(element);
		if (j == 1)
			return element;
		elements.push(element);
	}
	return elements;
}
function $c(classname, node) { //Get elements by class
	if(!node) node = document.getElementsByTagName('body')[0];
	var a = [];
	var re = new RegExp('\\b' + classname + '\\b');
	var els = node.getElementsByTagName("*");
	for(var i=0, j=els.length; i<j; i++)
		if(re.test(els[i].className))a.push(els[i]);
	return a;
}
function event_add(obj,type,fn) { // http://www.dustindiaz.com
	if (obj.addEventListener)	obj.addEventListener(type,fn,false );
	else if (obj.attachEvent) {
		obj["e"+type+fn] = fn;
		obj.attachEvent( "on"+type, function() { obj["e"+type+fn](); } );
	}
}
function event_del(obj,type,fn) { // http://www.dustindiaz.com
	if (obj.removeEventListener) obj.removeEventListener(type,fn,false);
	else if (obj.detachEvent) {
		obj.detachEvent( "on"+type, obj["e"+type+fn] );
		obj["e"+type+fn] = null;
	}
}
function cookie_create(name,value,days) {
	if (location.protocol == 'data:') { return null; } //prevents security errors
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		var expires = '; expires='+date.toGMTString();
	}
	else var expires = '';
	document.cookie = name+'='+value+expires+'; path=/';
}
function cookie_read(name) {
	if (location.protocol == 'data:') { return null; }
	var name = name+'=', ca = document.cookie.split(';');
	for(var i=0, j=ca.length;i < j;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
	}
	return null;
}
function toggle(el) {
	if ( el.style.display != 'none' ) { el.style.display = 'none'; }
	else { el.style.display = ''; }
}
function autocomplete(field,select,property,forcematch) { // <input/> -> <select>
	var f = false;
	for (var i=0, j=select.options.length; i < j; i++) {
		if (select.options[i][property].toUpperCase().indexOf(field.value.toUpperCase()) == 0) {
			f=true; break;
		}
	}
	if (forcematch && !f) {
		field.value = field.value.slice(0,field.value.length-1);
		autocomplete(field,select,property,forcematch);
		return false;
	}
	if (f) { select.selectedIndex = i; }
	else { select.selectedIndex = 0; }
}
function vv(e,min,max,evt,r)  {  //Field Value Validation (numeric only)
	if (r != undefined && $('act-'+r).checked == 0) { row_act(r); }
	if ($(e).title == '') {
		$(e).autocomplete = 'off';
		$(e).title = '('+min+' - '+max+') Use up/down arrow keys to increase/decrease.';
	}
	var r = $(e).id.split('-')[1], v = $(e).value;
	var k = window.event?event.keyCode:evt.keyCode; // alert(k); //DEBUG
	switch(k) {
		case 9: return false; break; //tab
		case 8: return false; break; //backspace
		case 46: return false; break; //delete
		case 13: calc_ivs((mode==2 && act>-1?act:0)); break; //enter
		case 38: //Up key, increase
			$(e).value = v<max?(1*v)+1:v;
		break;
		case 40: //Down key, decrease
			$(e).value = v>min?(1*v)-1:v;
		break;
		default:
			$(e).value = isNaN(v)?min:Math.min(v,max);
	}
}
function tooltips() { // inspired by http://qrayg.com/learn/code/qtip
	if (!$('tooltip')) { var e = el_add($('calculator'),'div',{className:'a',id:'tooltip'});
		event_add(document, "mousemove", function(evt) {
			var de = document.documentElement;
			$('tooltip').style.left = (document.all?((de && de.scrollLeft)?de.scrollLeft:document.body.scrollLeft)+window.event.clientX:evt.pageX)+'px';
			$('tooltip').style.top = (document.all?((de && de.scrollTop)?de.scrollTop:document.body.scrollTop)+window.event.clientY:evt.pageY)+'px';
		});
	}
	var elements = $c('tooltip');
	var  i=elements.length-1; do {
		var e = elements[i];
				if(e.title && !e.tooltip) {
					e.tooltip = e.title;
					e.title = ''; e.alt = ''; //prevent default behaviour
					event_add(e, "mouseover", function() { $('tooltip').innerHTML = this.tooltip; $('tooltip').style.display = 'block'; });
					event_add(e, "mouseout", function() { $('tooltip').innerHTML = ''; $('tooltip').style.display = 'none'; });
				}
	} while(i--);
}
function el_add(el,tag,attr,txt) { //Appends element - el_add(el,'div',{className:'a',id:'b'},'text');
	var i='',e=document.createElement(tag);
	if (attr) {
		for (i in attr) {
			e[i] = attr[i];
		}
	}
	e.innerHTML = txt || '';
	el.appendChild(e);
	return e;
}
function el_del(el) { //Removes all element children of el
	while (el.firstChild) {
		el.removeChild(el.firstChild);
	}
	return this;
}
function array_intersect(a, b) { //arrays must be sorted, a and b are destructed afterwards
	var r=[];
	while( a.length > 0 && b.length > 0 ) {
		if (a[0] < b[0] ){ a.shift(); }
		else if (a[0] > b[0] ){ b.shift(); }
		else {
			r.push(a.shift());
			b.shift();
		}
	}
	return r;
}
if (!Array.prototype.map) {
	Array.prototype.map = function(fn, thisObj) { // http://www.dustindiaz.com/basement/sugar-arrays.html
		var scope = thisObj || window;
		var a = [];
		for (var i=0, j=this.length; i < j; ++i) {
			a.push(fn.call(scope, this[i], i, this));
		}
		return a;
	};
}
if (!Array.prototype.indexOf) {
	Array.prototype.indexOf = function(el, start) { // http://www.dustindiaz.com/basement/sugar-arrays.html
		var start = start || 0;
		for (var i=0, j=this.length; i < j; ++i) { //rewrite using while do?
			if (this[i] === el ) {
				return i;
			}
		}
		return -1;
	};
}
Array.prototype.sum = function() {
	var sum=0,i=this.length-1; do {
		sum += this[i];
	} while(i--);
	return sum;
};
Array.prototype.sortnum = function() {
   return this.sort( function (a,b) { return a-b; } );
};
Array.prototype.style = function(p,v) {
	var i=this.length-1; do {
		this[i].style[p] = v;
	} while(i--);
};

/* Pokemon Data and retrieval functions */
//Pokemon Name:Number - email the author for a precompiled list of the names in other languages
pkmns='Bulbasaur:1|Ivysaur:2|Venusaur:3|Charmander:4|Charmeleon:5|Charizard:6|Squirtle:7|Wartortle:8|Blastoise:9|Caterpie:10|Metapod:11|Butterfree:12|Weedle:13|Kakuna:14|Beedrill:15|Pidgey:16|Pidgeotto:17|Pidgeot:18|Rattata:19|Raticate:20|Spearow:21|Fearow:22|Ekans:23|Arbok:24|Pikachu:25|Raichu:26|Sandshrew:27|Sandslash:28|Nidoran♀:29|Nidorina:30|Nidoqueen:31|Nidoran♂:32|Nidorino:33|Nidoking:34|Clefairy:35|Clefable:36|Vulpix:37|Ninetales:38|Jigglypuff:39|Wigglytuff:40|Zubat:41|Golbat:42|Oddish:43|Gloom:44|Vileplume:45|Paras:46|Parasect:47|Venonat:48|Venomoth:49|Diglett:50|Dugtrio:51|Meowth:52|Persian:53|Psyduck:54|Golduck:55|Mankey:56|Primeape:57|Growlithe:58|Arcanine:59|Poliwag:60|Poliwhirl:61|Poliwrath:62|Abra:63|Kadabra:64|Alakazam:65|Machop:66|Machoke:67|Machamp:68|Bellsprout:69|Weepinbell:70|Victreebel:71|Tentacool:72|Tentacruel:73|Geodude:74|Graveler:75|Golem:76|Ponyta:77|Rapidash:78|Slowpoke:79|Slowbro:80|Magnemite:81|Magneton:82|Farfetch’d:83|Doduo:84|Dodrio:85|Seel:86|Dewgong:87|Grimer:88|Muk:89|Shellder:90|Cloyster:91|Gastly:92|Haunter:93|Gengar:94|Onix:95|Drowzee:96|Hypno:97|Krabby:98|Kingler:99|Voltorb:100|Electrode:101|Exeggcute:102|Exeggutor:103|Cubone:104|Marowak:105|Hitmonlee:106|Hitmonchan:107|Lickitung:108|Koffing:109|Weezing:110|Rhyhorn:111|Rhydon:112|Chansey:113|Tangela:114|Kangaskhan:115|Horsea:116|Seadra:117|Goldeen:118|Seaking:119|Staryu:120|Starmie:121|Mr. Mime:122|Scyther:123|Jynx:124|Electabuzz:125|Magmar:126|Pinsir:127|Tauros:128|Magikarp:129|Gyarados:130|Lapras:131|Ditto:132|Eevee:133|Vaporeon:134|Jolteon:135|Flareon:136|Porygon:137|Omanyte:138|Omastar:139|Kabuto:140|Kabutops:141|Aerodactyl:142|Snorlax:143|Articuno:144|Zapdos:145|Moltres:146|Dratini:147|Dragonair:148|Dragonite:149|Mewtwo:150|Mew:151|Chikorita:152|Bayleef:153|Meganium:154|Cyndaquil:155|Quilava:156|Typhlosion:157|Totodile:158|Croconaw:159|Feraligatr:160|Sentret:161|Furret:162|Hoothoot:163|Noctowl:164|Ledyba:165|Ledian:166|Spinarak:167|Ariados:168|Crobat:169|Chinchou:170|Lanturn:171|Pichu:172|Cleffa:173|Igglybuff:174|Togepi:175|Togetic:176|Natu:177|Xatu:178|Mareep:179|Flaaffy:180|Ampharos:181|Bellossom:182|Marill:183|Azumarill:184|Sudowoodo:185|Politoed:186|Hoppip:187|Skiploom:188|Jumpluff:189|Aipom:190|Sunkern:191|Sunflora:192|Yanma:193|Wooper:194|Quagsire:195|Espeon:196|Umbreon:197|Murkrow:198|Slowking:199|Misdreavus:200|Unown:201|Wobbuffet:202|Girafarig:203|Pineco:204|Forretress:205|Dunsparce:206|Gligar:207|Steelix:208|Snubbull:209|Granbull:210|Qwilfish:211|Scizor:212|Shuckle:213|Heracross:214|Sneasel:215|Teddiursa:216|Ursaring:217|Slugma:218|Magcargo:219|Swinub:220|Piloswine:221|Corsola:222|Remoraid:223|Octillery:224|Delibird:225|Mantine:226|Skarmory:227|Houndour:228|Houndoom:229|Kingdra:230|Phanpy:231|Donphan:232|Porygon2:233|Stantler:234|Smeargle:235|Tyrogue:236|Hitmontop:237|Smoochum:238|Elekid:239|Magby:240|Miltank:241|Blissey:242|Raikou:243|Entei:244|Suicune:245|Larvitar:246|Pupitar:247|Tyranitar:248|Lugia:249|Ho-oh:250|Celebi:251|Treecko:252|Grovyle:253|Sceptile:254|Torchic:255|Combusken:256|Blaziken:257|Mudkip:258|Marshtomp:259|Swampert:260|Poochyena:261|Mightyena:262|Zigzagoon:263|Linoone:264|Wurmple:265|Silcoon:266|Beautifly:267|Cascoon:268|Dustox:269|Lotad:270|Lombre:271|Ludicolo:272|Seedot:273|Nuzleaf:274|Shiftry:275|Taillow:276|Swellow:277|Wingull:278|Pelipper:279|Ralts:280|Kirlia:281|Gardevoir:282|Surskit:283|Masquerain:284|Shroomish:285|Breloom:286|Slakoth:287|Vigoroth:288|Slaking:289|Nincada:290|Ninjask:291|Shedinja:292|Whismur:293|Loudred:294|Exploud:295|Makuhita:296|Hariyama:297|Azurill:298|Nosepass:299|Skitty:300|Delcatty:301|Sableye:302|Mawile:303|Aron:304|Lairon:305|Aggron:306|Meditite:307|Medicham:308|Electrike:309|Manectric:310|Plusle:311|Minun:312|Volbeat:313|Illumise:314|Roselia:315|Gulpin:316|Swalot:317|Carvanha:318|Sharpedo:319|Wailmer:320|Wailord:321|Numel:322|Camerupt:323|Torkoal:324|Spoink:325|Grumpig:326|Spinda:327|Trapinch:328|Vibrava:329|Flygon:330|Cacnea:331|Cacturne:332|Swablu:333|Altaria:334|Zangoose:335|Seviper:336|Lunatone:337|Solrock:338|Barboach:339|Whiscash:340|Corphish:341|Crawdaunt:342|Baltoy:343|Claydol:344|Lileep:345|Cradily:346|Anorith:347|Armaldo:348|Feebas:349|Milotic:350|Castform:351|Kecleon:352|Shuppet:353|Banette:354|Duskull:355|Dusclops:356|Tropius:357|Chimecho:358|Absol:359|Wynaut:360|Snorunt:361|Glalie:362|Spheal:363|Sealeo:364|Walrein:365|Clamperl:366|Huntail:367|Gorebyss:368|Relicanth:369|Luvdisc:370|Bagon:371|Shelgon:372|Salamence:373|Beldum:374|Metang:375|Metagross:376|Regirock:377|Regice:378|Registeel:379|Latias:380|Latios:381|Kyogre:382|Groudon:383|Rayquaza:384|Jirachi:385|Deoxys:386|Turtwig:387|Grotle:388|Torterra:389|Chimchar:390|Monferno:391|Infernape:392|Piplup:393|Prinplup:394|Empoleon:395|Starly:396|Staravia:397|Staraptor:398|Bidoof:399|Bibarel:400|Kricketot:401|Kricketune:402|Shinx:403|Luxio:404|Luxray:405|Budew:406|Roserade:407|Cranidos:408|Rampardos:409|Shieldon:410|Bastiodon:411|Burmy:412|Wormadam Planta:413|Mothim:414|Combee:415|Vespiquen:416|Pachirisu:417|Buizel:418|Floatzel:419|Cherubi:420|Cherrim:421|Shellos:422|Gastrodon:423|Ambipom:424|Drifloon:425|Drifblim:426|Buneary:427|Lopunny:428|Mismagius:429|Honchkrow:430|Glameow:431|Purugly:432|Chingling:433|Stunky:434|Skuntank:435|Bronzor:436|Bronzong:437|Bonsly:438|Mime Jr.:439|Happiny:440|Chatot:441|Spiritomb:442|Gible:443|Gabite:444|Garchomp:445|Munchlax:446|Riolu:447|Lucario:448|Hippopotas:449|Hippowdon:450|Skorupi:451|Drapion:452|Croagunk:453|Toxicroak:454|Carnivine:455|Finneon:456|Lumineon:457|Mantyke:458|Snover:459|Abomasnow:460|Weavile:461|Magnezone:462|Lickilicky:463|Rhyperior:464|Tangrowth:465|Electivire:466|Magmortar:467|Togekiss:468|Yanmega:469|Leafeon:470|Glaceon:471|Gliscor:472|Mamoswine:473|Porygon-Z:474|Gallade:475|Probopass:476|Dusknoir:477|Froslass:478|Rotom:479|Uxie:480|Mesprit:481|Azelf:482|Dialga:483|Palkia:484|Heatran:485|Regigigas:486|Giratina Alterada:487|Cresselia:488|Phione:489|Manaphy:490|Darkrai:491|Shaymin Tierra:492|Arceus:493|Victini:494|Snivy:495|Servine:496|Serperior:497|Tepig:498|Pignite:499|Emboar:500|Oshawott:501|Dewott:502|Samurott:503|Patrat:504|Watchog:505|Lillipup:506|Herdier:507|Stoutland:508|Purrloin:509|Liepard:510|Pansage:511|Simisage:512|Pansear:513|Simisear:514|Panpour:515|Simipour:516|Munna:517|Musharna:518|Pidove:519|Tranquill:520|Unfezant:521|Blitzle:522|Zebstrika:523|Roggenrola:524|Boldore:525|Gigalith:526|Woobat:527|Swoobat:528|Drilbur:529|Excadrill:530|Audino:531|Timburr:532|Gurdurr:533|Conkeldurr:534|Tympole:535|Palpitoad:536|Seismitoad:537|Throh:538|Sawk:539|Sewaddle:540|Swadloon:541|Leavanny:542|Venipede:543|Whirlipede:544|Scolipede:545|Cottonee:546|Whimsicott:547|Petilil:548|Lilligant:549|Basculin Rojo:550|Sandile:551|Krokorok:552|Krookodile:553|Darumaka:554|Darmanitan:555|Maractus:556|Dwebble:557|Crustle:558|Scraggy:559|Scrafty:560|Sigilyph:561|Yamask:562|Cofagrigus:563|Tirtouga:564|Carracosta:565|Archen:566|Archeops:567|Trubbish:568|Garbodor:569|Zorua:570|Zoroark:571|Minccino:572|Cinccino:573|Gothita:574|Gothorita:575|Gothitelle:576|Solosis:577|Duosion:578|Reuniclus:579|Ducklett:580|Swanna:581|Vanillite:582|Vanillish:583|Vanilluxe:584|Deerling:585|Sawsbuck:586|Emolga:587|Karrablast:588|Escavalier:589|Foongus:590|Amoonguss:591|Frillish:592|Jellicent:593|Alomomola:594|Joltik:595|Galvantula:596|Ferroseed:597|Ferrothorn:598|Klink:599|Klang:600|Klinklang:601|Tynamo:602|Eelektrik:603|Eelektross:604|Elgyem:605|Beheeyem:606|Litwick:607|Lampent:608|Chandelure:609|Axew:610|Fraxure:611|Haxorus:612|Cubchoo:613|Beartic:614|Cryogonal:615|Shelmet:616|Accelgor:617|Stunfisk:618|Mienfoo:619|Mienshao:620|Druddigon:621|Golett:622|Golurk:623|Pawniard:624|Bisharp:625|Bouffalant:626|Rufflet:627|Braviary:628|Vullaby:629|Mandibuzz:630|Heatmor:631|Durant:632|Deino:633|Zweilous:634|Hydreigon:635|Larvesta:636|Volcarona:637|Cobalion:638|Terrakion:639|Virizion:640|Tornadus:641|Thundurus:642|Reshiram:643|Zekrom:644|Landorus:645|Kyurem:646|Keldeo Habitual:647|Meloetta Voz:648|Genesect:649|Chespin:650|Quilladin:651|Chesnaught:652|Fennekin:653|Braixen:654|Delphox:655|Froakie:656|Frogadier:657|Greninja:658|Bunnelby:659|Diggersby:660|Fletchling:661|Fletchinder:662|Talonflame:663|Scatterbug:664|Spewpa:665|Vivillon:666|Litleo:667|Pyroar:668|Flabébé:669|Floette:670|Florges:671|Skiddo:672|Gogoat:673|Pancham:674|Pangoro:675|Furfrou:676|Espurr:677|Meowstic ♂:678|Honedge:679|Doublade:680|Aegislash:681|Spritzee:682|Aromatisse:683|Swirlix:684|Slurpuff:685|Inkay:686|Malamar:687|Binacle:688|Barbaracle:689|Skrelp:690|Dragalge:691|Clauncher:692|Clawitzer:693|Helioptile:694|Heliolisk:695|Tyrunt:696|Tyrantrum:697|Amaura:698|Aurorus:699|Sylveon:700|Hawlucha:701|Dedenne:702|Carbink:703|Goomy:704|Sliggoo:705|Goodra:706|Klefki:707|Phantump:708|Trevenant:709|Pumpkaboo Normal:710|Gourgeist Normal:711|Bergmite:712|Avalugg:713|Noibat:714|Noivern:715|Xerneas:716|Yveltal:717|Zygarde:718|Deoxys Ataque:386.1|Deoxys Defensa:386.2|Deoxys Velocidad:386.3|Wormadam Arena:413.1|Wormadam Basura:413.2|Shaymin Cielo:492.1|Giratina Origen:487.1|Rotom Horno:479.1|Rotom Lavadora:479.2|Rotom Congelador:479.3|Rotom Ventilador:479.4|Rotom Cortador:479.5|Castform Sol:351.1|Castform Lluvia:351.2|Castform Granizo:351.3|Basculin Azul:550.1|Darmanitan Zen:555.1|Meloetta Danza:648.1|Kyurem Blanco:646.1|Kyurem Negro:646.2|Keldeo Brío:647.1|Tornadus Tótem:641.1|Thundurus Tótem:642.1|Landorus Tótem:645.1|Meowstic ♀:678.1|Aegislash Filo:681.1|Pumpkaboo Pequeño:710.1|Pumpkaboo Grande:710.2|Pumpkaboo Gigante:710.3|Gourgeist Pequeño:711.1|Gourgeist Grande:711.2|Gourgeist Gigante:711.3|Venusaur Mega:3.1|Charizard Mega X:6.1|Charizard Mega Y:6.2|Blastoise Mega:9.1|Alakazam Mega:65.1|Gengar Mega:94.1|Kangaskhan Mega:115.1|Pinsir Mega:127.1|Gyarados Mega:130.1|Aerodactyl Mega:142.1|Mewtwo Mega X:150.1|Mewtwo Mega Y:150.2|Ampharos Mega:181.1|Scizor Mega:212.1|Heracross Mega:214.1|Houndoom Mega:229.1|Tyranitar Mega:248.1|Blaziken Mega:257.1|Gardevoir Mega:282.1|Mawile Mega:303.1|Aggron Mega:306.1|Medicham Mega:308.1|Manectric Mega:310.1|Banette Mega:354.1|Absol Mega:359.1|Garchomp Mega:445.1|Lucario Mega:448.1|Abomasnow Mega:460.1';

//Compressed Pokemon data: HP/ATK/DEF/SP.ATK/SP.DEF/SPD/Type1/Type2/Egg1/Egg2/EPs2/EPs1 - national order + forms
pkmn='            gηη55g-,"4 "&WI//&-,"4 #/ΗZAA/-,"4 1ΜΚ_&(566"9: P:P/5/66"9:"jνj}^A6*"9 ,M=5(:_!!"*F qI/5/P!!"*F$lZA^;j!!"* Eg78BBg11,," (B3>>711,,G &g(0/)1*,, 1@87BB(1,,,: g>(>>81,,,G 50@g/S1,,,+$@g@88c *$$: I&3((k *$$K Z/S))ψ *$$ε 7c8>8C  ##: 3t&()ο  ##K @&7ΟΟ) *$$: 505eeA *$$K 8&M@y3,,#9$ &^m5l/,,#9+ 83@((0EE#1K &030/wEE#1ε (S^B7@$$##F SAwg35$$##G 3ιΚ@@z,,"#" )WQ33c,,..* 0NΞS^[,$.., ρx@@@(,,"#$ eCx335,,"#+ tά|^S^,$"#E )g=&58HH11* 2)~20&HH11, τz@(5566##: ~[StAA66##:$OgBg>B H11* ?)g^(g H11, @g87@3,*$$: S/)5S0,*$$K g(3S57-,44 "&5)^S@-,44 *S/^w0(-,44 ,8)3g3>1-,4$ &2/&/71-,4Ε &3(@3g1,,, $)5&0S01,,,:"!3>8g2$$##: 8/(()<$$##K @g8@@0  ##: 5)&55O  ##K (Κ=5(3!!*# "/Ηj2/^!!*# *@/88g)""##$ 5;&&)2""##+ 3)g)(&66##$ 0w/A/266##+ @(@@@0!!**: 555((0!!**K 022)0)!"**= >B.;30VV++ "@87<);VV++ *3(gb2<VV++ ,)/(888""++$ /A)(&g""+++ 0L/5^3""++E (S8)7@-,44$ 50(^g3-,44+ /;5A))-,44E @@8(A)!,66 $/)5/<A!,66 +@/A77B#$!!F 32Ogg8#$!!G /<L35g#$!!= (^355066##: 5A)//;66##K 055@@.!V"*" 2SwA/7!V"*G >8)23gE+!! "(&2<))E+!! *Κ53PW& *$#$ 8^g88S *$$$ &w)&&A *$$+ 5g3g)g!!*# $0)/)2)!9*# +//(@(>,,--" ;;S5A(,,--# 75Ag>@!!66F (2Ν^g)!966G 787A8/4,-- "g(gO324,-- *&5&LSw4,-- ,8gn7g)#$!!F &=g_0sVV++ $^~)~OQVV++ +7;0>>(!!66$ 3LO((S!!66+ @7(33AEE!!: &()//?EE!!K &@/&g@-V44F 22^h53-V44 *((2@(8$$""F &/w(/g$$""G (<o8wΞ""+++ (;l8w[""++ +03S&S7  ""* @52&g8,,--F 50<^)&,,--G /^277>$#"#F ;L<gg@$#"#+ à##8;(  11* 53OA@&--44F ;2/@/0  ""* 7@))>&!!*9 "3522g^!!*9F"gQ&8(I!!EE$ /N55/i!!EE+ 7g3)3^!!66: &S^A^O!V66K @g5A<0VH++ +)w/3/;1*,,$ 5(8O229V++ *5Zx2^;EE++K 52xA^d66++ *5hA3)^11,,+ SA2@)w  ##i B!3.B/!!E9: 2hl&At!*E9+ L^/^2&!9"** ======  VV" 33(g53  ## $L5&w25!!##* 55&w2LEE##K 5L&2w566##+ 5&)^S@  !! "8@A038#!*6F )&hO)3#!*6G 7/03g3#!*6F &O;5)/#!*6+ /;5&SL#*$$K nw55w7  ""* 0^A2h^9*.. E00^h0AE*.. ,0A0h^06*.. ,z:g(((..*9$ eν5)))..*9+ uώ2AA/.**9E pw0{0LVV.. ,AAAAAAVV.., gη5η5g--"4 $&W/I/&--"4F$/ΗAZA/--"4F+ΜΚ_&(566##: P:P/5/66##:"jνj}^A66## ,(5:M=_!!"*$ 5//qIP!!"*B ^;AlZj!!"*Ε 8ρς8gB  ##$ ^[:g30  ##K &77χc( *$$" A(([ύ) *$$* @B7@/31*,, $38(3w^1*,, +@&@@@71,,,$ )0)&&@1,,,+ ^0/)/L,*$$ε SττccQ!EEE" hPP[[Q!EEE* B@.88&EE..: (>Λg3.HH.. $07.@B. H.." 8B5@5BHH.. $3@^/;@H*$1 +@(g)g)V*$$ "5S)2)2V*$$:"3@@5g8EE"# ")33/&gEE"# *0S^O03EE"# ,S/20A(--44 E)B(B(@!H*1* A(/&/(!H*1, )AO757##!!G 0SS0A)!!** E88@83(-*14 $3g(g5/-*14K S3)32w-*14ε 3)3@3^  ##: 777777--44 "SS3;^7--44 *55gSg21*,,: 3gg>>.!$*#" 2^^558!$*#* 55&L2wVV## *25w&L5FF## +&^s^suF*$$: 2S/Aw7!V"* E&&&^^^44-- $=C=C==VV..$"βΩPΩPΩVV--* )/505^ V## *(5088.11,,F S0?&&@1+,,G A))55g  ##" 5S;85^$*,,F S^ό357+$!!G &/(@@7HH#1$ 0<S&&gHH#1+ 52S33^!,EE$ )LA3/51+,,+ B!f!f#1#,,F$/hS@2^1",,+ 3238SOF9##: &/(((@  ##$ 0LSSS3  ##+ @@@)@B66-- "((<//76#--G ((@77(9$##$ AA/&&(9$### 33^5^8!#*6F$858585!!*E "S;S;Sg!!*E$"g3g5gS9**#: 5@)/?)!*** +5/?@))+*$$G g&7/(5F6## "S0(w/2F6## *S2222^!.*9$#0&&@@@$$##" 0<<&&($$##B ^/0;2&  !! *~2W^5^  ##$ 3B8BgS  ##: 888888""..$ (228w)""++ +g7.^559V.. "gIΓ532EE..: gSΓ)3Z66..: 2/;@)A  ##G ä!!Sb3  11, 0^SOAOEE..K"OO^0SA66..6 ASO0O^!!..F+(:(g(z#$""$ )ν)5)ω#$""+ Aώw2Ae#F""E p0L0{wV*.. EpL0w{06*.. EAAAAAAV-.., @g853)--"9: (5g^52--"9K )^5;^<--"9ε g&@)(g66## "&^&^&36"##$"/<)w)/6"##E ()(((@!!"*$ )^)&)(!$"*+ Aw0^0&!$"*E 838778FF##$ )0)&&)FF##+ τ7z7z&  ##: j)e(eA  ##K gg8B7B11,," (83>>.11,,G &)(A(51*,, ,(83>>.11,,G &()(051,,, E@77@(7!-*4 $&((&)(!-*4 +/))0A)!-*4 E@@(777--#4F ))@&@&-F#4+ 0A&0&/-F#4E @3777^ *$$: &^&((h *$$K @7737^!**$: &(A^)5!**$G Λ>>g8@VH-- "τ8853(VH-- *i55hO/VH-- ,@7G(Κ51!*,: )&W/Η&1**, #&@&@&8--14" &L/&&)-"14+ &&&887  ##" ///330  ##K YnA25A  ##, Οg077@1$,,F e0g((n1*,,K "0g77@14!!* :ωΥωΥΛ  "#" νk_k_=  "#* θuIu~i  "#, C&7B7>""++" ã<&@&(""++* (B@B@B H.." 7gbg07##!!F (gg88(  #1: )5533)  #15 (SS55(F4++B (^^33(+H#1B ()A@@7+#""F &0?((@+#""G )wΝ&&(+#""= 7@3@3&"V++: &&S&S/"V++K @g@5@5EE##: )S&;&;EE##K &(@^S2EE11: &@(S^2EE11: 5~3ιS^11,+: 5ι3~S^11,+: (&gA/5-,14 *)_o_o@,,--" A~Z~Z3,,--* g0B5B5!FEE$ )<@2@2!FEE+ L)8)8&!!#E" ]0g0g&!!#E* &&@5g86$## ")A);S@6$##$")^?^)B66##G &>8)/&VV## $/g50w/VV## +&&&&&&  #+ "gAggg!$$,,$ ()((()$.,,i /A///A$.,,D (^@^@8--4+ ")O&O&3-F4+$"g@&@S( *$9 $S)0);/.*$9 +~O&&&0  ##+ ~A&A&5,,#9$")352^)#V!! *)2^35)#V!!+ (=_ρz&!$EE" wj~[k&!$EE* _/5(88!!*6$ I<^033!F*6+ @@3@)3$V!! $&);)<S$V!! +az|eΞΥ#-66 $Ttοtγ_#-66 +g2(@(S#166$ ShA)/g#166+ B.B!3/!!*9: 2&lAht!!*9 +))))))  1-" &0)&<@  ## $MS8IΩg44--$ :O5ZI544--+ B@070>44-- $@)L&L>44--F$λiZCΞω-*"4* 5()2/5VV-- #5L&S&SFF##+ 2Υ=Υ=ΥVV.." ((((((991!" //////991!* )@(3(>9!*#" 0&)S)g9!*#* w/02059!*#, 8:^α3G!!**F 3θ;ΑSΚ!!**B 3ν;ΦSΚ!!** *A0Lg53!#*EH _73@5ο!!EE: gS&@7(..99$ 52A&((..99G 2b/w/A.*99E @3/8&7+V!!F &SA3/(+V!!G /bL20)+V!!= /Aό(A(##..= /(AAό(99.. E/SYSY(++..G$//0wLw.V.. E/0/Lww.V.. ,AA0Y?0!!.. ,AY?A00$$..E ;Y0Y02.*..+"AAAAAA+V.., (Y(Y(YVV..i"3i:g3Ο--"4$ Sυ^35χ--"4B 2};S^c-$"4Ε MPMPMe66#+: :jΚjΚt6"#+:"[θkθkX6"#+i"oωoec@!!*# ":ait[(!!*# *νTRσψ&!+*# ,@3777& *$$: 3S(@@/ *$$K ^<)(&A *$$E qg@8@Ο  *#" l^&3&k !*#+ Γ>z>z>11,,F |^ω3ω511,,+ g5ς@ςgEE##$ &^η&η&EE##+ /<l2l)EE##E @78()3-,.. "&)5h;0-,14 ,Qh@77P##""$ ο`&5(P##""+ 7sΘsR7#+""F &Κϋιâ7#+""G @έgέgχ11,, $&q^l;χ1-,, +)Α(Α(a1*,,$"77s7s)1*,,: )/ά/ά@1*,,F$&g)g02EE#1: 358&7^!!*#: ^;3^(O!!*#K g8gWo8--14 ")&)Ξj^--14 *[==xWς!!*-" σZiNΗΜ!$*-* SAa&aO  ##K 0(ς&M)4*--" Y/M0y/4*--* 3aMMc^  #+: 5[νyύ;  #+K &&&;;;44-- #AhΚ;ΚkF*$$+ η3ssΓ^  ##: kΗ::qJ  ##K g7(5(gVV.. "IIιzzα,F##: %dQkeν,F##* xΕTΕTΥ+V!!F QυΨlΨΩ+V!!F$(/2!g!##..F B>g)0&VH.. $A##.57  .." [5gNsu *$$$ (NXNX84F--F$P)g@gs.$"9$ i05(3Η.$"9+ XL2/^ά.$"9E b^@@^#  .." @)@8@&""..$ )w)O)0"+#+$"iCjτsG$$##F XJΘiCι$$##G @(0735,1,6F )0w&S2,F,6G =e@e@(,"++$ Zp5T5^,"+++ αAC0Cρ--44+ ηηcηea!!EE: mm[mTu!!EEK gB(&<(!*.. $&W(W&@-9"4$ 0NSN^&-9"4$")<5g^hF9##i ))OL0&E+!! ,w^2/2(  "", O?L33@$#"#E AAhw((--44G SδQ2^2EE++E S2Qh2Z66++ ,^(2<O/H*$1 1T[TΨc21*,,+ 5wL&52--##G 5&wL2599## *S2hgS2$*,,G wL/)&/9$##E ^/)bS0  !! ,ih55O/V"--E &3USY@#+!!F+gAb5bg44--F+)/)/)w941!K ((|2|uE4--:"SSLSL2VV..G$/;;;;/VV..$#Sh)h)OVV..+"A<<YA0+... ,0<AY<A!... ,u0pLp|6+.. ,wnw/wA  ..E YA<A<04..., <)<SL^VV.. E//////!!*1" AAAAAA!!*1, )00b0hFF..:*AAAAAA--.., <<<<<<  .., AAAAAAV6.., gg3g3I--#4: &&S&SZ--#4K SS2S2Σ--#4ε 5Igggg66##" 0d3)336"##+ wδ5A556"##E 33gIgg!!## "SS&Z&&!!## *2A^X))!!## ,g3Μ8Μs  ##$ &^m&m|  ##+ g&g>g3  ##$ 5/585&  ##+ ^w0g0/  ##E z(Γ(ΓaFF##: :R(R(pFF##K (o=o=:--##: SφIφIψ--##K (o=o=:66##: SφIφIψ66##K (o=o=:!!##: SφIφIψ!!##K [>gQ3ΕVV##" Ψ3^γ2έVV##* (3(χ7_ *$$$ W|W(s5 *$$+ /O/53d *$$E g&G(G[EE##: SAI/IΨEE##K 3S^>>.##!!F );;(@B##!!B ^bL&/>##!!E 3g_3_CV*#$: Qx3|3ΦV*#$K &^@7gi$$##$ wb&(5R$+##+ %&T&T(  11* S/3>88""++$ ^;^@(@""+++ ;?235g""++E ((@(@:!!**: S5353m!$*** ;2S^Sα!$**, <A^7^g""++* ShS7S^""+++ go)@&s1-,,F 3I0(/s1-,,G S%/)/N1-,,E 7gq7Μx1,,,F @3λ@lι1,,,G &Aυ3mJ1,,,ε @ή&Γ(a-H41: &Q^|SΨ-H41K g8()(7--44 ")&SwS0--44 *)N5/3φ!!EEK (C8885$F##$ &Ηgggα$F##+ 2Ρ/5)N$F##E )0g.g(66##$ ;?373266##+ STQpQ&--44 *(5^8831#,!F )2h5Sg1#,!G (S)8)=F"#9$ 50OgOPF"#9F$CP/%/οV*$$ *τ7^35744!-F P(U2;744!-G yj%ogϊ!#*6F αXáZ5G!#*6G 3Jgαg)#*$6$ S?5J5w#*$6+ ((W@W5,,!!: /2Η&ΗS,,!!+ @5@/@5FF## "&;&<&;FF## *3(@@@S  ##: S2&5&O  ##K g7(35gVV++ $&g)S^3VV++ +)322w5VV++ Eg7@;(BVV-- "5@(h&7VV-- *w5Sh^7VV-- ,WM(M(3!**$" SΞIΞIφ!**$K χ((5&M99!! "ω55/Sq99!! *k2^w2l99!! ,&&(@(S -##: /A)&)2 -##+ 3S&S&%E*##K (Sg@g&11,,$ )b;&;B1+,,+ m3g33.-,44" Φ^)^/7-,44* 3@(5^@!4-- $A&)^;&!4-- +`S/@g5!!*E* (ι(x(51E,,: )|&ο&X1E,,K M(uΕT!-+4!F αΑΔyΨB-+4!G @3)g&7++!!F &/2)^(++!!G &AO)^0++!!= 83@g@&EE--: 5^)S)@EE--+ ^O/;/(EE--E 333^37VV++ "SSSh2@VV++ *(7353B46-- "&@&2&346-- *&30U0/46-- ,ρΞ&7@x.."9$ aΡ)@(Q.."9+ [ΐ0&)ο.."9E 3)@&@@99##$ 2w/)/(99##+ )(72b;99!! +(@^@5>11,,F /)@A&U11,,K }aνtλG$E*-* g^(3(5""#+$ 5h&2&;""#++ |<0&0=..9"+ qα(8(8$4!!$ υί/3/3$4!!+ g^)@@&F+++$ 5hA&))F++++ 2w2@23  ##+ )Z(Γ(& *$$$ AδSxS/ *$$+ )3Sg5&F*$$F w5;32/F*$$ *^οa;a566## *P}J==}1+,,G Κ5(g(τF.99$ C^)5)PF.99+ N;0h0φF.99 ,3^3(3&16,,$ ^&5b;A16,, ,u0Β0CX+"..= uΒ0C0X#"..E u0C0ΒX-".. ElO)h/σ**..E lO)h/σE*..E A<AY<0.6.. ,AY<<A0.E..E υh0O/ψ$*.. ,hL0L02.9..#"uC0Β0X!".. ,A||KK0 V..:#k<2<2λ1+..i"ce5=gτ--##F ej2cPx--##G RγμαS:-"##= @g@W&&66## "qqP0)~66## *SmCΦAθ6V## ,zc@WMk!!**: yIΚZcο!!**K C2Q%kμ!F**ε τχτGχx  ##: ^c|(|j $##* g(_@τW *$$: W~3cΚν6*$$: jtkαmΠ6*$$K τ8@ή>811,,F gϊ&ή7έ11,,F /Κ(0(υ1*,,F W(P~yC6 ## "TiC}ap6 ## *MτΜelsHH11 $ygιSφΚHH11 +j5iJ{SHH11 Ea5=WxΚ--##" δAWοti--##* QΗWρ=_""#+$ 2ίjmkP"F#++ S/&50ά  ## $W=yI&iVV##: α=[ZtθVV##K g/A8ΓΛ+4!!G qwYgη8+4!!G &(Y(Y&+4!!= jΚ&I5ΥHH11" ψCCλυέHH11* W=aqxηHH11F Η/T^SCHH11G oyoΓρgFV*E$ TNRiS~FV*E$ sΚQΜc(#!66$ C;OyTi#!66+ (&&&&7,!*9 "5S0οδM,.*9 *(oWPIM!!*6 "k~R<υq!!*6 "MτΩe_)E "9: W3Κ}Α}E "9K Pυ|gg=#."9$ ΗΖΧmqk#."9E |q(QIρ#9""" δ|CλNP#9""* 255wL&HH## +jNSαIΘ"*+++ QPxtQψEH#1K ((Y(Y(#H1!F$g(83S@..99 $iSoZΣ&..99 +0A)wY/..99 Ex/u/ΞS+H!!F _)=(&τ4-4-$ ^w[5Ηc4-4-+ ηa)M3ω4---F 50μPSν4---G 3m^G8Λ99""F 2ΡΤMρΛ99""G @78g@3*.$$: ^)/ο/δ*.$$K ΠΔ2ΔφλHH.., ΠΔ2ΔφλF*.., XAΖt22.$..,                                     (ΝBΝBYVV..+"()n)n0VV..G$(2020ΝVV..ε &l;q^χ1$,,G &m2m2χ1+,,F$A%S<SΙ-*..ε Y<A<A04..., (5γ;γTE6--:"(5γ;γTE!--:"(5γ;γTE9--:"(5γ;γTE*--:"(5γ;γTE---:"))))))661-" ))))))!!1-" ))))))991-" )N5/3φ!!EEK ;7;?;36V## *AK0||K "..ν h<0]A2.9.. ,h]A<02.9..E uC0Β0X!".. ,lA/w0Ζ**..ε l;)U/ψE*.. ,υU0;/u$*..E α=[ZtθVV##K &Y(Y(&+4!!= Ma)M3c4---F ya)M3ρ4---F qa)M3z4---F 3^μPSλ4---F S2μPSm4---F ^AμPSy4---F /Aδμ</-,"4 1jLσL^A6."9 ,jθjπOA6*"9 ,l%<bOj!!"* E3(5ξ2YVV++ ,&5/]2L4,-- ,;hA&AA  ""* 5ζ<50;1*,,+ 2ζ})Lt!FE9+ /b^)2Y#*$$K pβA{ALV".. ,pY)κ<?VV.. ,02;`wgE."# ,)Y?5AS1+,,+ /rO@;S1",,+ S00?0OF6## *AvY2<k#F""E /n/L/A6"##E i^5`bAVH-- ,(;h32(+H#1B )?f&/(++""= &A^/^A"V++K )S/b/bEE##K :`SdZS44--+ 5Y&O&OFF##+ X]O<2N.$"9E )UR?)J"+#+$"0D;D;7-9"4$"';
//Decompression Arrays
pk='00,0a,01,05,04,3c,32,46,02,08,03,0b,0f,50,5a,06,5f,37,07,41,09,1e,23,0e,40,69,78,30,19,8c,28,64,14,48,84,0c,10,20,11,3f,70,80,82,2c,5c,73,3a,43,58,4b,56,91,0d,3e,6c,96,53,4c,aa,55,2b,a5,42,87,38,5d,3d,e6,2d,7d,44,4e,47,4f,45,a0,35,6a,3b,b9,2a,51,5b,a4,6e,39,36,29,9a,4d,6d,49,67,4a,be,6b,7b,c0,9b,31,68,2f,c2,63,7a,54,af,61,9f,2e,6f,26,59,62,24,65,33,5e,81,25,83,18,79,52,76,7f,34,1c,27,b4,57,1f,7e,75,71,b8,17,72,77,74,21,22,66,1d,1b,7c,c8,60,86,16,a8,93,fa,85,8a,90,ff'; pk=pk.split(',');
mn=' !"#$&()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~%αβγδεζηθικλμνξοπρστυφχψωΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩςάέήίόύώϊϋΐàáâãä'; mn=mn.split(''); base=[];

forms = {386.1:722,386.2:723,386.3:724,413.1:725,413.2:726,492.1:727,487.1:728,479.1:729,479.2:730,479.3:731,479.4:732,479.5:733,351.1:734,351.2:735,351.3:736,550.1:737,555.1:738,648.1:739,646.1:740,646.2:741,647.1:742,641.1:743,642.1:744,645.1:745,678.1:746,681.1:747,710.1:748,710.2:749,710.3:750,711.1:751,711.2:752,711.3:753,3.1:754,6.1:755,6.2:756,9.1:757,65.1:758,94.1:759,115.1:760,127.1:761,130.1:762,142.1:763,150.1:764,150.2:765,181.1:766,212.1:767,214.1:768,229.1:769,248.1:770,257.1:771,282.1:772,303.1:773,306.1:774,308.1:775,310.1:776,354.1:777,359.1:778,445.1:779,448.1:780,460.1:781};

function get_base(p,s) { //Returns values from pkmn
	if (p.indexOf('.') > -1) {
		p = forms[p];
	}
	if (!base[p]) {
		base[p]=pkmn.slice(12*p,12*p+12).split('').map(function(v,i){v=pk[mn.indexOf(v)];if(i<10)v=parseInt(v,16);return v});
		base[p].push(('000000000000000'+parseInt(base[p].pop()+''+base[p].pop(),16).toString(2)).split('').reverse().join('').substr(0,12).split('').reverse().join('').match(new RegExp(".{1,"+2+"}", "g")).reverse().map(function (v) { return parseInt(v,2); }));
		base[p][10].push(base[p][10].splice(3,1)[0]);
	}
	return base[p][s];
}

//Add a custom Pokemon by modifying and un-commenting the following lines.
//Format is HP,ATK,DEF,SP.ATK,SP.DEF,SPD,Type1,Type2,Egg1,Egg2,[HP EPs,ATK EPs,DEF EPs,SP.ATK EPs,SP.DEF EPs,SPD EPs]
/*
pkmns = pkmns+'|Bulbasaur:1';
base[1] = [45, 49, 49, 65, 65, 45, 12, 3, 1, 7,[0, 0, 0, 1, 0, 0]];
*/

//ATK/DEF/SP.ATK/SP.DEF/SPD / Tímida 1, Dócil 2, Fuerte 3, Seria 4, Rara 5, Osada 6, Modesta 7, Serena 8, Miedosa 9, Huraña 10, Afable 11, Amable 12, Activa 13, Firme 14, Agitada 15, Cauta 16, Alegre 17, Pícara 18, Floja 19, Alocada 20, Ingenua 21, Audaz 22, Plácida 23, Mansa 24, Grosera 25
natures = [[],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[0.9,1.1,1,1,1],[0.9,1,1.1,1,1],[0.9,1,1,1.1,1],[0.9,1,1,1,1.1],[1.1,0.9,1,1,1],[1,0.9,1.1,1,1],[1,0.9,1,1.1,1],[1,0.9,1,1,1.1],[1.1,1,0.9,1,1],[1,1.1,0.9,1,1],[1,1,0.9,1.1,1],[1,1,0.9,1,1.1],[1.1,1,1,0.9,1],[1,1.1,1,0.9,1],[1,1,1.1,0.9,1],[1,1,1,0.9,1.1],[1.1,1,1,1,0.9],[1,1.1,1,1,0.9],[1,1,1.1,1,0.9],[1,1,1,1.1,0.9]];
natures[-1] = [1,1,1,1,1]; //neutral
natures['max'] = [1.1,1.1,1.1,1.1,1.1]; //all max
natures['min'] = [0.9,0.9,0.9,0.9,0.9]; //all max

//Type affinity no fg fl po gu ro bu gh st fi wa gs el ps ic dr da fa
damage = [[1,1,1,1,1,0.5,1,0,0.5,1,1,1,1,1,1,1,1,1],[2,1,0.5,0.5,1,2,0.5,0,2,1,1,1,1,0.5,2,1,2,0.5],[1,2,1,1,1,0.5,2,1,0.5,1,1,2,0.5,1,1,1,1,1],[1,1,1,0.5,0.5,0.5,1,0.5,0,1,1,2,1,1,1,1,1,2],[1,1,0,2,1,2,0.5,1,2,2,1,0.5,2,1,1,1,1,1],[1,0.5,2,1,0.5,1,2,1,0.5,2,1,1,1,1,2,1,1,1],[1,0.5,0.5,0.5,1,1,1,0.5,0.5,0.5,1,2,1,2,1,1,2,0.5],[0,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,0.5,1],[1,1,1,1,1,2,1,1,0.5,0.5,0.5,1,0.5,1,2,1,1,2],[1,1,1,1,1,0.5,2,1,2,0.5,0.5,2,1,1,2,0.5,1,1],[1,1,1,1,2,2,1,1,1,2,0.5,0.5,1,1,1,0.5,1,1],[1,1,0.5,0.5,2,2,0.5,1,0.5,0.5,2,0.5,1,1,1,0.5,1,1],[1,1,2,1,0,1,1,1,1,1,2,0.5,0.5,1,1,0.5,1,1],[1,2,1,2,1,1,1,1,0.5,1,1,1,1,0.5,1,1,0,1],[1,1,2,1,2,1,1,1,0.5,0.5,0.5,2,1,1,0.5,2,1,1],[1,1,1,1,1,1,1,1,0.5,1,1,1,1,1,1,2,1,0],[1,0.5,1,1,1,1,1,2,1,1,1,1,1,2,1,1,0.5,0.5],[1,2,1,0.5,1,1,1,1,0.5,0.5,1,1,1,1,1,2,2,1]];

ivr = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31];

stats = ['PS','Ataque','Defensa','At. Especial','Def. Especial','Velocidad','&mdash;'];
types = ['Normal','Lucha','Volador','Veneno','Tierra','Roca','Bicho','Fantasma','Acero','Fuego','Agua','Planta','Eléctrico','Psíquico','Hielo','Dragón','Siniestro','Hada'];
eggs = ['???','Monstruo','Agua1','Bicho','Volador','Campo','Hada','Planta','Humanoide','Agua3','Mineral','Amorfo','Agua2','Ditto','Dragon','No Huevos'];
typeshp = ['Lucha','Volador','Veneno','Tierra','Roca','Bicho','Fantasma','Acero','Fuego','Agua','Planta','Eléctrico','Psíquico','Hielo','Dragón','Siniestro'];
hps = ['0,1,2,3,4','5,6,7,8','9,10,11,12','13,14,15,16','17,18,19,20','21,22,23,24,25','26,27,28,29','30,31,32,33','34,35,36,37','38,39,40,41','42,43,44,45,46','47,48,49,50','51,52,53,54','55,56,57,58','59,60,61,62','63']; //posible Poder Oculto "types"


/* UI specific functions */
function get_text(id,n) { //Returns text associated with n value from id (<select/>)
	var a = $(id).value;
	$(id).value = n;
	var b = $(id).options[$(id).selectedIndex].text;
	$(id).value = a;
	return b;
}

pkmns=pkmns.split('|');
pkmns.sort(); //Sort names alphabetically
function pop_species() { //Populates the species list
	var a = document.createDocumentFragment();
	var i=0,j=pkmns.length; do {
		var b = pkmns[i].split(':');
		var c = el_add(a,"option",{value:b[1]},b[0]);
		if ((forms[b[1]] > 649 && forms[b[1]] < 718) || forms[b[1]] > 746) { c.className = 'new'; } //show new species
		i++;
	} while (i<j);
	$('species').appendChild(a);
}

online = 0; //global- online status
function online_check() { //Checks if there's an internet connection alive
	if (navigator.onLine) {
		if (online == 1) { return true; }
		online = 1;
		add_sprite();
		//Version Check - DO NOT change the following
		$('version').innerHTML = '<a href="http://www.legendarypokemon.net/ivcalcxy.html"><img id="verchk" alt=""/></a><span class="error">Ø</span> <strong>Hay una <a href="http://www.legendarypokemon.net/ivcalcxy.html" target="_blank">nueva versión</a> disponible.</strong>';
		var verchk = $('verchk');
		verchk.src = 'http://www.legendarypokemon.net/ivcalcxy_1.1.png?p='+ Math.floor(Math.random( )*100);
		verchk.onload = function() { if (verchk.width==1) { $('version').innerHTML = '<span class="ok">¡OK!</span> ¡Estás usando la última versión!'; } }
	}
	else { $('version').innerHTML =  '<span class="error">Ø</span> ¡Tu navegador está <strong>offline</strong>! No se pueden comprobar actualizaciones.'; }
}

themes = ['isotope','spp','simplex']; //define your own themes here, feel free to edit this
themed = themes.indexOf('none'); //global- set default theme here
theme = (!cookie_read('theme')?themed:cookie_read('theme'));
function toggle_theme() {
	$('calculator').className = themes[theme];
	display_status('El tema ha cambiado a "'+themes[theme]+'".<br/><span class="btn" onclick="toggle_simple();">¿Versión sencilla?</span>');
	if (theme == -1 && (navigator.userAgent.indexOf('MSIE ') == -1)) {
		display_status('Este tema te permite "Colorizar".<br/>Elige Matiz, Saturación y Brillo:');
		var c = cookie_read('color') || 'd';
		if (c.charAt(0) == ',') {
			c = c.split(',');
			thema(c[1],c[2],c[3]);
		}
		$('status').innerHTML += '<br/><br/><input id="hue" type="range" min="0" max="360" value="150" />';
		$('status').innerHTML += '<br/><input id="sat" type="range" min="0" max="100" value="4" />';
		$('status').innerHTML += '<br/><input id="lit" type="range" min="0" max="100" value="74" />';
		event_add($('hue'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('sat'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('lit'),"change", function () {  thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('hue'),"keyup", function (evt) {  vv(this.id,0,360,evt); thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('sat'),"keyup", function (evt) {  vv(this.id,0,100,evt); thema($('hue').value,$('sat').value,$('lit').value); });
		event_add($('lit'),"keyup", function (evt) {  vv(this.id,0,100,evt); thema($('hue').value,$('sat').value,$('lit').value); });
	}
	cookie_create('theme',theme,60);
	theme = (theme == themes.length?-1:theme*1+1);
}
function toggle_simple() {
	$('calculator').className += ' simplex';
	toggle($('info')); toggle($('instructions'));
	display_status('¡Todo está en versión sencilla ahora!<br/>(recarga para volver a verlo todo)');
	}
function thema(h,s,l) { //Color theming, does not work in IE8
	var bg = 'hsl('+h+', '+s+'%, '+l+'%)';
	var bd = 'hsl('+h+', '+s+'%, '+(l-20)+'%)';
	var bd2 = 'hsl('+h+', '+s+'%, '+(l-26)+'%)';
	var bp = 'hsl('+h+', '+s+'%, '+(l-9)+'%)';
	var bs = 'hsl('+h+', '+s+'%, '+(l-16)+'%)';
	$('thema').innerHTML = '#calculator{background:'+bg+';border-color:'+bd+';}#calculator .primary{background:'+bp+';}#calculator .secondary{background:'+bs+';}#calculator input,#calculator select,#calculator .button{border-color:'+bd2+';color:'+bd2+';}#calculator .button {background-color:'+bg+';}'; //dibs on this method
	cookie_create('color',','+h+','+s+','+l,60);
}
eps = 1; //global- EPs enabled
function toggle_evs() { //Enable/Disable EV functions
	switch(eps) {
		case 1:
			eps = 0; $('btn-evs').value = 'EVs: OFF';
		break;
		case 0:
			eps = 1; $('btn-evs').value = 'EVs: ON';
		break;			
	}
	var j = $c('eps').slice();
	var i = j.length-1; do {
		toggle(j[i]);
	} while(i--);
	display_base();
}
mode = 0; //global- Single enabled
function toggle_mode(m) { //Single/Team/Row mode
	var m = m || mode;
	switch(m) {
		case 0:
			mode = 1;
			$('btn-mode').value = 'Team Calculation';
			$('mode0').style.display='none';
			$('mode1').style.display='';
			$('btn-hp').disabled = 'disabled';
			$('btn-stats').disabled = 'disabled';
			$('btn-eps').disabled = 'disabled';
			display_status('Has cambiado al <strong>Modo Equipo</strong>.');
			break;
		case 1:
			mode = 2;
			$('btn-mode').value = 'Row Calculation';
			$('mode0').style.display='';
			$('mode1').style.display='none';
			$('btn-hp').disabled = '';
			$('btn-stats').disabled = '';
			display_status('Has cambiado al <strong>Modo Fila</strong>.');
			break;
		default:
			mode = 0;
			$('btn-mode').value = 'Single Pokémon';
			$('mode0').style.display='';
			$('mode1').style.display='none';
			$('btn-hp').disabled = '';
			$('btn-stats').disabled = '';
			$('btn-eps').disabled = ''; 
			display_status('Has cambiado al <strong>Modo Individual</strong>.');
	}	
	display_sprite();
	display_effectiveness($('number-'+(act>-1?act:0)).value);
}
/* Save & Load functionality */

function code_load(c) { //Loads a SaveCode
	//var c = prompt('Input SaveCode or [Cancel] to load from URL:') || location.search;
	//var c = location.search;
	display_status('<span class="loading">Cargando SaveCode...</span>');
	if (c == undefined || c.indexOf('?sc=') == -1) { display_status('No se puede cargar el SaveCode.'); return NULL; }
	c = c.replace(/%20/gi,'').substring(1).split('!');
	if (c.length < 2) { display_status('No se puede cargar el SaveCode.'); return; }
	var  i = c.length-1; do { c[i] = c[i].split(','); } while(i--);
	//Check if SaveCodeVersion is compatible (may change with Black/White)
	if (c[0][0] > 1) { display_status('No se puede cargar el SaveCode.'); return; }
	//Check if SaveCodeUI is compatible, and restore UI
	if (c[0][1] == 0) {
		if (c[0][2] == 0 && eps == 1) { toggle_evs(); }
		var i = c[0][3]*1;
		if(mode!=i) { if(mode==2) { mode = 0; } toggle_mode(i-1); }
		display_status('<span class="loading">Cargando SaveCode...</span>');
		mode = i;
		$('nickname').value = unescape(c[0][4]);
	}
	//Load user entered IVs
	$('statlvl').value = c[1][6]; $('hiddent').innerHTML=''; $('hiddenp').innerHTML='';
	var  i=5; do {
		ivs[i] = ivr.slice();
		$('med'+i+'-0').value = c[1][i]*1;
		$('spr'+i+'-0').innerHTML = '';
		$('plv'+i+'-0').innerHTML = '';
		$('stats'+i).innerHTML = '';
	} while(i--);
	//Load row data
	$('statrows').style.display = 'none';
	el_del($('statrows'));act=-1;actp=0;rn=1;rs=[0];ivs=[];
	
	var i=2, r=i-2; l=c.length;
	if (l > 2) {
		do {
			if (r!=0) { row_add(0,c[i][1]); };
			$('level-'+r).value = c[i][1]*1; $('number-'+r).value = c[i][0]*1; $('nat-'+r).value = c[i][14]*1; $('char-'+r).value = c[i][15]; $('hpt-'+r).value = c[i][16]*1;
			$('pot0-'+r).value = c[i][17]*1; $('pot1-'+r).value = c[i][18]; $('pot2-'+r).value = c[i][19]*1;
			var  j=5; do {
				$('stat'+j+'-'+r).value = c[i][j+2]*1;
				$('ep'+j+'-'+r).value = c[i][j+8]*1;
			} while(j--);
			display_eps();
			i++; r++;
		} while (i<l);
	}
	//Restore focus and set active row
	$('act-0').checked = 1; act=0; actp=0; row_sync();
	$('statrows').style.display = '';
	
	display_effectiveness($('number-'+act).value);
	tooltips();
	display_status('¡SaveCode cargado correctamente!');
	$('btn-ivs').focus();
}
function code_save() { //Displays a SaveCode
	var c = '?sc=0,0,'; //Data/SaveCode version
	c += eps+',';
	c += mode+',';
	c += escape($('nickname').value)+'!';
	c += $('med0-0').value+',';
	c += $('med1-0').value+',';
	c += $('med2-0').value+',';
	c += $('med3-0').value+',';
	c += $('med4-0').value+',';
	c += $('med5-0').value+',';
	c += $('statlvl').value+''; 
	var s = $c('statrow'), i = (mode==2?0:s.length), r = (mode==2 && act>-1?act:0); s.reverse();
	do {
		c += '!'+$('number-'+r).value+','+$('level-'+r).value+','+$('stat0-'+r).value+','+$('stat1-'+r).value+','+$('stat2-'+r).value+','+$('stat3-'+r).value+','+$('stat4-'+r).value+','+$('stat5-'+r).value+','+$('ep0-'+r).value+','+$('ep1-'+r).value+','+$('ep2-'+r).value+','+$('ep3-'+r).value+','+$('ep4-'+r).value+','+$('ep5-'+r).value+','+$('nat-'+r).value+','+$('char-'+r).value+','+$('hpt-'+r).value+','+$('pot0-'+r).value+','+$('pot1-'+r).value+','+$('pot2-'+r).value;
		if (i > 0) { r = s[i-1].id.split('-')[1]; }
	} while (i--);
	display_status('<a href="'+c+'">SaveCode</a> (<a href="http://x.co/?url=http://www.legendarypokemon.net/ivcalcxy.html'+c+'" target="_blank">acortar</a>):<br/>'+c.split('!').join('! '));
	$('contact').href = 'http://www.legendarypokemon.net/contact?topic=IV%20Calculator&text='+escape('Mi navegador es: '+navigator.userAgent+'\nMi savecode es: '+c+'\n\n');
	//window.location += c; //Uncomment for old behaviour
}

/* Row functions */

act = 0; actp = 0; //global- active row; previous active row
rn = 1; rs = [0]; //global- new row counter; array of current rows
error = 1; //global- error flag, default: true
function row_act(n) { //Makes n row active
	if ($('act-'+n).value == act) {
		actp = act;
		act = -1;
		$('act-'+n).checked = 0;
		$('name').focus();
		$('ept').style.visibility = '';
		if (online == 1) { display_sprite(); }
		display_effectiveness($('number').value);
		return false;
	}
	act = n;
	actp = 0;
	$('act-'+n).checked = 1;
	/*$('number-'+n).readonly = 'readonly'; $('number-'+n).disabled = ''; //look into this
	$('number-'+actp).readonly = ''; $('number-'+actp).disabled = 'disabled';*/
	$('ept').style.visibility = 'hidden';
	row_sync();
}
function row_sync() { //Syncs the display with active row
	var n=act, t=$('pot1-'+n).value.split('.');
	$('number').value = Math.floor($('number-'+n).value);
	jQuery('#species').select2('val', $('number-'+n).value);
	jQuery('#nat').select2('val', $('nat-'+n).value);
	jQuery('#char').select2('val', $('char-'+n).value);
	jQuery('#hpt').select2('val', $('hpt-'+n).value);
	jQuery('#pot0').select2('val', $('pot0-'+n).value);
	jQuery('#pot2').select2('val', $('pot2-'+n).value);
	jQuery('#pot1').select2('val', t);
	display_effectiveness($('number-'+n).value);
	display_base();
	display_nature();
	display_char();
	if (mode == 2) { calc_ivs(n); }
	if (online == 1) { display_sprite(); }
}
function row_edit() { //Makes active row editable
	var n=act, t=[];
	if (n == -1) { return false; }
	$('number-'+n).value = $('species').value;
	$('nat-'+n).value = $('nat').value;
	$('char-'+n).value = $('char').value;
	$('hpt-'+n).value = $('hpt').value;
	$('pot0-'+n).value = $('pot0').value;
	var i=6; do {
		if ($('pot1').options[i].selected && t.indexOf(i-1) == -1 ) { t.push(i-1); }
	} while(i--);
	$('pot1-'+n).value = t.join('.');
	$('pot2-'+n).value = $('pot2').value;
}
function row_up(r) { //Moves row upwards
	var t=[], n=[], p=rs[rs.indexOf(r)-1];
	if ($('act-'+p).checked == 0) { row_act(p); }
	else if (online == 1) { display_sprite(); }
	p = $('level-'+p,'stat0-'+p,'stat1-'+p,'stat2-'+p,'stat3-'+p,'stat4-'+p,'stat5-'+p,'number-'+p,'nat-'+p,'char-'+p,'hpt-'+p,'pot0-'+p,'pot1-'+p,'pot2-'+p,'ep0-'+p,'ep1-'+p,'ep2-'+p,'ep3-'+p,'ep4-'+p,'ep5-'+p);
	n = $('level-'+r,'stat0-'+r,'stat1-'+r,'stat2-'+r,'stat3-'+r,'stat4-'+r,'stat5-'+r,'number-'+r,'nat-'+r,'char-'+r,'hpt-'+r,'pot0-'+r,'pot1-'+r,'pot2-'+r,'ep0-'+r,'ep1-'+r,'ep2-'+r,'ep3-'+r,'ep4-'+r,'ep5-'+r);
	p.map(function(v){t.push(v.value); });
	n.map(function(v,i){p[i].value=v.value;v.value=t[i];});
	display_eps(r);
	row_sync();
}
function row_del(n) { //Removes n row
	rs.splice(rs.indexOf(n),1);
	if (act==n) { row_act(0); }
	$('statrows').removeChild($('statrow-'+n));
	$('statrows').removeChild($('eprow-'+n));
	row_sync();
}
function row_add(n,lvl) { //Appends a new row
	if (n > 0) { rn = (rs.length == 1?1:n); }
	if (!lvl && mode==0) {
		var lvl = $('level-'+rs[(rs.length-1)]).value;
		lvl = (lvl<100?lvl*1+1:100);
	}
	lvl = lvl || 100;
	var ep = [0,0,0,0,0,0];
	if (mode==0) {
		var p = rs[(rs.length-1)];
		var ep = [$('ep0-'+p).value,$('ep1-'+p).value,$('ep2-'+p).value,$('ep3-'+p).value,$('ep4-'+p).value,$('ep5-'+p).value,];
	}	
	rs.push(rn);
	var a = document.createDocumentFragment();
	var b = el_add(a,"tr",{id:'statrow-'+rn,className:'statrow'});
		el_add(b,"td",'','<input type="radio" class="radio tooltip" name="act" id="act-'+rn+'" value="'+rn+'" onclick="row_act('+rn+');" title="(Des)Activar esta fila."/> <span class="btn tooltip" onclick="row_del('+rn+');" title="Eliminar esta fila.">-</span>');
		el_add(b,"td",'','<input type="text"  id="level-'+rn+'" name="level-'+rn+'" maxlength="3" size="3" value="'+lvl+'" onkeyup="vv(this.id,0,100,event,'+rn+');" />');
		el_add(b,"td",{},'<span class="btn tooltip" onclick="row_up('+rn+');" title="Mover fila arriba.">^</span>');
		var i = 0; do {
			el_add(b,"td",'','<input type="text" name="stat'+i+'-'+rn+'" id="stat'+i+'-'+rn+'" maxlength="3" size="3" value="" onkeyup="vv(this.id,0,999,event,'+rn+');" />');
			i++;
		} while (i<6);
		el_add(b,"td",'','<input type="text" disabled="disabled" id="number-'+rn+'" name="number-'+rn+'" maxlength="3" size="3" value="'+$('number').value+'" /><input type="hidden" id="nat-'+rn+'" name="nat-'+rn+'" value="'+$('nat').value+'" /><input type="hidden" id="char-'+rn+'" name="char-'+rn+'" value="'+$('char').value+'" /><input type="hidden" id="hpt-'+rn+'" name="hpt-'+rn+'" value="'+$('hpt').value+'" /><input type="hidden" id="pot0-'+rn+'" name="pot0-'+rn+'" value="'+$('pot0').value+'" /><input type="hidden" id="pot1-'+rn+'" name="pot1-'+rn+'" value="'+$('pot1').value+'" /><input type="hidden" id="pot2-'+rn+'" name="pot2-'+rn+'" value="'+$('pot2').value+'" />');
	var c = el_add(a,"tr",{id:'eprow-'+rn,className:'eps'});
		if (eps == 0) { c.style.display = 'none'; }
		el_add(c,"td");
		el_add(c,"td",{id:'eps-'+rn,value:ep.sum()});
		el_add(c,"td");
		var i = 0; do {
			el_add(c,"td",'','<input type="text" name="ep'+i+'-'+rn+'" id="ep'+i+'-'+rn+'" maxlength="3" size="3" value="'+ep[i]+'" onkeyup="vv(this.id,0,255,event,'+rn+');display_eps();" />');
			i++;
		} while (i<6);
		el_add(c,"td");
	$('statrows').appendChild(a);
	row_act(rn);
	rn++;
}
function add_eps() { //adds provided effort points to Pokemon's Effort Values
	function validate_eps(ep1,ep2) { //EPs limits | ep1 = current EPs | ep2 = EPs to be added
		var n = actp;
		var eps = 1*$('eps-'+n).innerHTML;
		epsum = 1*ep1 + 1*ep2;
		epsum2 = 1*ep1 + (510-1*eps);
		if (ep2 < 0 && epsum > 0) { return epsum; }
		if (eps < 510 && ep1 < 255) {
			ep3 = (eps + 1*ep2 < 510)?((epsum < 255)?epsum:255):((epsum2 < 255)?epsum2:255);
			return ((ep3 < 0)?0:ep3);
		}
		else { return ep1; }
	}
	display_base();
	var n = actp; //active row
	var  i=5; do {
		$('ep'+i+'-'+n).value = validate_eps($('ep'+i+'-'+n).value,$('eff'+i+'').innerHTML);
	} while(i--);
	display_eps();
}

/* Calculation functions */
function calc_effectiveness(typ,type1,type2) { //Calculates effectiveness
	var mul = damage[typ][type1];
	if (type2 != type1) { mul = mul * damage[typ][type2]; }
	return mul;
}
function calc_hiddenp() { //Calculates Hidden Power's power
	return 60;  //Obsolete since XY
	var a = arguments;
	return Math.floor((0.5*(a[0]&2)+1*(a[1]&2)+2*(a[2]&2)+4*(a[5]&2)+8*(a[3]&2)+16*(a[4]&2))*40/63 + 30);
	//return (((((a[4]&2)<<1) + (a[3]&2) + ((a[5]&2)>>>1))*10 + (a[2]&2)*3 + (a[0]&2) + (a[1]&2)) >>> 1)+30; //alternate, by Chase
}
function calc_hiddent() { //Calculates Hidden Power's type
	var a = arguments;
	return Math.floor(((a[0]&1)+2*(a[1]&1)+4*(a[2]&1)+8*(a[5]&1)+16*(a[3]&1)+32*(a[4]&1))*15/63);
	//return (a[2] & 1) + ((a[5] & 1) << 1) + ((a[3] & 1) << 2) + ((a[4] & 1) << 3); //alternate, by Chase, uses the main types[]
}
function calc_hidden(n) { //Displays all possible Hidden Powers
	//d = new Date(); time = d.getTime(); //DEBUG
	function display_hp() {
		t.reverse().sort(); p.sortnum();
		$('hiddent').innerHTML = t.join(', ');
		$('hiddenp').innerHTML = 60; //p.join(', ');
		//array_intersect(ivs[i],eo[ivhss[i][0]].slice());
		//d = new Date(); display_status((d.getTime()-time)/1000); return true; //DEBUG
		display_text(n);
	}
	display_status('<span class="loading">Calculando <em>Poder Oculto</em>...</span>');
	
	if ($('medl').checked) {
		var t = [typeshp[calc_hiddent($('med0-0').value,$('med1-0').value,$('med2-0').value,$('med3-0').value,$('med4-0').value,$('med5-0').value)]];
		//var p = [calc_hiddenp($('med0-0').value,$('med1-0').value,$('med2-0').value,$('med3-0').value,$('med4-0').value,$('med5-0').value)];
		display_hp(); return true;
	}
	
	if (error != 0) { display_status('¡No funciona!<br/>Introduce o calcula los IVs primero.'); return false; }
	var a = [], b = $('hpt-'+n).value, t = [], p = [], i0=ivs[0].length-1;
	do { //must optimize this further
		a[0] = ivs[0][i0];
		var i1=ivs[1].length-1;
		do {
			a[1] = ivs[1][i1];
			var i2=ivs[2].length-1;
				do {
					a[2] = ivs[2][i2];
					var i3=ivs[3].length-1;
						do {
							a[3] = ivs[3][i3];
							var i4=ivs[4].length-1;
								do {
									a[4] = ivs[4][i4];
									var i5=ivs[5].length-1;
										do {
											a[5] = ivs[5][i5];
											var c = typeshp[calc_hiddent(a[0],a[1],a[2],a[3],a[4],a[5])];
											if (b == -1 || c == typeshp[b]) {
												if (t.indexOf(c) == -1) { t.push(c); }
												//var d = calc_hiddenp(a[0],a[1],a[2],a[3],a[4],a[5]);
												//if (p.indexOf(d) == -1) { p.push(d); }
											}
											if (p.length == 41 && t.length == 16) { display_hp(); return true; } //exit loops if all possible
										} while (i5--);
								} while (i4--);
						} while (i3--);
				} while (i2--);
		} while (i1--);
	} while (i0--);
	display_hp();
}
function calc_stat(species,pstat,stativ,statev,pokelvl,nature) { //Calculates Pokemon stats
	var basestat = get_base(species,pstat);
	var bonus = natures[nature][(pstat-1)];
	if (eps == 0) { var statev = 0; }
	if (pstat == 0) { //HP uses a different formula
		var result =  (Math.floor(((basestat*2 + (stativ/1) + Math.floor(statev/4))*pokelvl)/100)) + (pokelvl/1) + 10;
		if (species == 292) { return 1; } //Shedinja Case
	}
	else { var result = Math.floor((Math.floor(((basestat*2 + (stativ/1) + Math.floor(statev/4))*pokelvl)/100) + 5)*bonus); }
	return result;
}

ivs = [ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice()]; //global- IVs array
function calc_stativ(species,pstat,stat,statev,pokelvl,nature,chara,pot1,pot2) { //Calculates Pokemon IVs - brute force
	var chara = chara.split('.');
	var pot1 = pot1.split('.');
	var charas = [[0,5,10,15,20,25,30],[1,6,11,16,21,26,31],[2,7,12,17,22,27],[3,8,13,18,23,28],[4,9,14,19,24,29]];
	var pots = [[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[16,17,18,19,20,21,22,23,24,25],[26,27,28,29,30],[31]];
	ivs[pstat] = [-1];
	var  i=31; do {
		if (calc_stat(species,pstat,i,statev,pokelvl,nature) == stat) { ivs[pstat].unshift(i); }
	} while(i--);
	
	if (pstat == 0 && species == 292) { ivs[pstat] = ivr.slice(); } //Shedinja Case
	
	if (chara[0] == pstat && chara != -1) {
		ivs[pstat] = array_intersect(ivs[pstat],charas[chara[1]]);
		maxiv = ivs[pstat][ivs[pstat].length-1]; //global maximum IV
	}
	if (pot1.indexOf(pstat.toString()) != -1 && pot2 != -1) {
		ivs[pstat] = array_intersect(ivs[pstat],pots[pot2]);
	}
	if (ivs[pstat][0] > miniv[1]) { miniv[1] = ivs[pstat][0]; }
	return ivs[pstat];
}
function calc_ivs(rn) { //Calculates a complete IV set
	error = 0; //global- reset errors
	if ($('number-0').value == 0) {
		error = '¡Quieto parao!<br/>Quizás deberías elegir una <em class="error">Especie de Pokémon</em>...';
		display_status(error);
		return false;
	}
	if ($('level-0').value == 0) {
		error = '¡No funciona!<br/>El <em class="error">Nivel</em> no puede ser cero.';
		display_status(error);
		$('level-0').focus();
		return false;
	}
	display_status('<span class="loading">Calculando <em>Valores Individuales</em>...</span>');
	
	function validate_iv(result,species,pstat,stat,statev,pokelvl,nature) { // IV error handling
		var spname = get_text('species',species);
		var max = calc_stat(species,pstat,31,statev,pokelvl,nature);
		var min = calc_stat(species,pstat,0,statev,pokelvl,nature);
		if (stat > max || stat < min) {
			error = '<em>'+spname+'</em> ¡Nv.'+pokelvl+' no funciona!<br/><em class="error">'+stats[pstat]+'</em> ('+stat*1+') debería ser de '+min+' a '+max+'.<br/> Los <em class="error">Puntos de Esfuerzo</em> o <em class="error">Naturaleza</em> podrían ser erróneos.';
			ivs[pstat] = [-1];
			return ['error'];
		}
		
		var i=0,l=result.length; do {
			if (result[i] > maxiv) { //beyond characteristic upper bound
				result = result.slice(0,i);
			}
			if (miniv[0] == pstat && result[i] >= miniv[1]) { //best iv must remain be at least equal to the lower bound
				result = result.slice(i);
			}
			i++;
		} while(i<l);
		
		if (result.length == 0 || result[0] > maxiv || result[0] == -1 || result[result.length] > 31) { //out of any bounds
			error = '<em>'+spname+'</em> ¡Nv.'+pokelvl+' no funciona!<br/>Los <em class="error">'+stats[pstat]+'</em> stats, <em class="error">Puntos de Esfuerzo</em>, <em class="error">Característica</em> o <em class="error">Mejor Stat</em> son erróneos.'; //global error - prevent complex calculations
			ivs[pstat] = [-1];
			return ['error'];
		}
		return result;
	}
	function validate_ties() { //Refines in case max IVs tie
		var ties = $('pot1-'+rn).value.split('.');
		var l = ties.length;
		if (l > 1) {
			var t = ivs[ties[0]].slice(); 
			var i=1; do {
				t = array_intersect(t,ivs[ties[i]]);
				if (t[0] == undefined) {
					error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> ¡Nv.'+$('level-'+rn).value+' no funciona!<br/>El/los <em class="error">Mejor Stat/s</em> introducido/s es/son erróneo/s.';
					return false;
				}
				i++;
			} while(i<l);
			ties.map(function(v){ivs[v]=t.slice();});
		}
	}
	
	maxiv = 31; miniv = [-1,0];//global- maximum IV
	ivs = [ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice(),ivr.slice()];
	//Calculate row(s)
	var rn = rn || 0;
	var i=rn, l=(mode!=0?(rn+1):rs.length); do {
		//alert(rn); //DEBUG
		var r=rs[i];
		var j=5; do {
			ivs[j] = array_intersect(ivs[j],calc_stativ($('number-'+r).value,j,$('stat'+j+'-'+r).value,$('ep'+j+'-'+r).value,$('level-'+r).value,$('nat-'+r).value,$('char-'+r).value,$('pot1-'+r).value,$('pot2-'+r).value));
			if (error != 0) { display_status(error); $('stat'+j+'-'+r).focus(); return false; }
		} while(j--);
		miniv[0] = $('char-'+r).value.split('.')[0];
		i++;
	} while(i<l);
	//Validate IVs
	var c = 0; var i=5; do {
		ivs[i] = validate_iv(ivs[i],$('number-'+r).value,i,$('stat'+i+'-'+r).value,$('ep'+i+'-'+r).value,$('level-'+r).value,$('nat-'+r).value);
		if (error != 0) { display_status(error); $('stat'+i+'-'+r).focus(); return false; }
		if (ivs[i].length == 1) { c++; }
	} while(i--);
	
	validate_ties();
	if (error != 0) { display_status(error); $('pot1').focus(); return false; }
	
	//Refine using Hidden Power //XY TODO
	if ((error == 0) && $('hpt-'+rn).value > -1) {
		if (c == 6 && ($('hpt-'+rn).value != calc_hiddent(ivs[0][0],ivs[1][0],ivs[2][0],ivs[3][0],ivs[4][0],ivs[5][0]))) {
			error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> ¡Nv.'+$('level-'+rn).value+' no funciona!<br/>El <em class="error">Poder Oculto</em> ('+typeshp[$('hpt-'+rn).value]+') introducido es erróneo.';
			display_status(error);
			$('hpt').focus();
			return false;
		}

		ivh = [];
		var k = 0;
		var  i=5; do {
			ivh[i] = [];
			for(var j=0;j<ivs[i].length;j++) { //global- make odd&even possibility array for every stat
				ivh[i].push(((ivs[i][j]%2==1)?1:0));
				if (ivh[i].length == 2) { k++; break; }
			}
		} while(i--);
		var hp = hps[$('hpt-'+rn).value].split(',');
		for (var i=0; i < hp.length;i++) {
			hp[i] = (hp[i]*1).toString(2); //decimal -> binary SpDef/SpAtk/Spd/Def/Atk/HP
			hp[i] = hp[i].split('');
			hp[i] = hp[i].reverse(); //-> HP/Atk/Def/Spd/SpAtk/SpDef
			hp[i].push(0,0,0,0,0); //ensure all bits are there
			hp[i] = hp[i].slice(0,6); //but we only need 6
			var s = hp[i][3]; //-> HP/Atk/Def/SpAtk/SpDef/Spd
			hp[i][3] = hp[i][4];
			hp[i][4] = hp[i][5];
			hp[i][5] = s;
		}
		var ivhs = [];
		var l = 0;
		for (var i=0;i < hp.length;i++) {
			if ((ivh[0].indexOf(1*hp[i][0]) != -1) && (ivh[1].indexOf(1*hp[i][1]) != -1) && (ivh[2].indexOf(1*hp[i][2]) != -1) && (ivh[3].indexOf(1*hp[i][3]) != -1) && (ivh[4].indexOf(1*hp[i][4]) != -1) && (ivh[5].indexOf(1*hp[i][5]) != -1)) { //if all match then add to possible hps[] value for given type
				ivhs[l] = [];
				ivhs[l] = hp[i].slice();
				l++;
			}
		}
		var ivhss = [];
		var l = 0;
		for (var i=0;i < ivhs.length;i++) {
			var j=5; do { //make possibility array for every stat, [0], [1] or [0,1]/[1,0] for given type
				if (!ivhss[j]) { ivhss[j] = []; }
				var t = ivhs[i][j];
				if (ivhss[j].length < 2 && ivhss[j].indexOf(t) == -1) { ivhss[j].push(t); }
				if (ivhss[j].length == 2) { l++; }
			} while(j--);
		}
		if (l != 6) { //ensure not all combinations are possible for given type
			var i=5; do {
				if (!ivhss[i]) {
					error = '<em>'+get_text('species',$('number-'+rn).value)+'</em> ¡Nv.'+$('level-'+rn).value+' no funciona!<br/><em class="error">Poder Oculto</em> ('+typeshp[$('hpt-'+rn).value]+') introducido es erróneo.';
					display_status(error);
					$('hpt').focus();
					return false;
				}
				if (ivhss[i].length == 1) {
					var eo = [];
					eo[0] = [0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30];
					eo[1] = [1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31];
					ivs[i] = array_intersect(ivs[i],eo[ivhss[i][0]].slice());
				}
			} while(i--);
		}
	}
	//end Hidden Power refine
	
	validate_ties();
	if (error != 0) { display_status(error); $('pot1').focus(); return false; }
	
	//Pinpoint next helpfull level and EPs if IVs are multiple
	//plv: 1-level 2-eps 3-stat1 4-stat2 - branched stats
	var lr = (mode==2?rn:rs[rs.length-1]);
	var plv = [];
	var  i=5; do {
		plv[i] = ['','','']; //level, branch, eps
		var z=1;
		if (ivs[i].length > 1 && mode!=1) {
			var j = $('level-'+lr).value;
			while (plv[i][0] == '' && j <= 100) {
				for (var z=1,zl=ivs[i].length;z <= zl;z++) {
					var statev = $('ep'+i+'-'+lr).value;
					var a = calc_stat($('number-'+lr).value,i,ivs[i][z-1],statev,j,$('nat-'+lr).value);
					var b = calc_stat($('number-'+lr).value,i,ivs[i][z],statev,j,$('nat-'+lr).value);
					if (ivs[i].length <= 2 && eps == 1) { //Calculate EPs for exact stat
						var y = statev;
						while (plv[i][2] == '' && y < 255) {
							for (var x=1,xl=ivs[i].length;x <= xl;x++) {
								var c = calc_stat($('number-'+lr).value,i,ivs[i][x-1],y,$('level-'+lr).value,$('nat-'+lr).value);
								var d = calc_stat($('number-'+lr).value,i,ivs[i][x],y,$('level-'+lr).value,$('nat-'+lr).value);
								if (c < d) { plv[i][2] = y; break; }
							}
							y++;
						}
					}
					if (a < b) { plv[i][0] = j; plv[i][3] = a; plv[i][4] = b; break; }
				}
				j++;
			}
			if ($('level-'+lr).value == 100) { plv[i][0] = ''; }
		}
		plv[i][1] = z-1;
	} while(i--);
	//Display Results
	var i=rs.indexOf(rn);
	if (i>-1) {
		display_ivs(rn,plv);
		if (mode==1 && rs[i+1]) { calc_ivs(rs[i+1],1); } //recursion if Team mode
	}
	//return true;
}
function calc_eps() { //Calculates and displays required EPs
	display_eps();
	$('statlvl').value = $('level-0').value;
	if (display_stats(0)) {
		$('stat0-0').focus();
		function count_eps(pstat,stat,iv,eps) { //calculates required EPs - brute force way
			for (var i=$(eps).value;i<=255;i++) {
				if (calc_stat($('number-0').value,pstat,$(iv).value,i,$('level-0').value,$('nat-0').value) == $(stat).value) { return i - $(eps).value; }
			}
			return 'Nv.';
		}
		var  i=5; do {
			$('eps'+i).innerHTML = count_eps(i,'stat'+i+'-0','med'+i+'-0','ep'+i+'-0');
		} while(i--);
		$('epsr').innerHTML = 1*$('eps0').innerHTML + 1*$('eps1').innerHTML + 1*$('eps2').innerHTML + 1*$('eps3').innerHTML + 1*$('eps4').innerHTML + 1*$('eps5').innerHTML + 1*$('eps-0').innerHTML;
		if(isNaN($('epsr').innerHTML)) { $('epsr').innerHTML = 'Nv.'; }
	}
	if ($('epsr').innerHTML > 510) { $('epsr').className = 'error';}
	if ($('epsr').innerHTML < 510) { $('epsr').className = '';}
}

/* Display functions */

function display_status(str,s) {
	var t = $('status').innerHTML;
	$('status').innerHTML = str;
	if (s>0) { setTimeout(function () { display_status(t); }, s*1000);	}
}
function display_base() { //Displays Base Stats
	var p = $('species').value;
	$('types').innerHTML =  (get_base(p,6) == get_base(p,7)?types[get_base(p,6)]:types[get_base(p,6)]+' / '+types[get_base(p,7)]);
	$('eggs').innerHTML =  (get_base(p,8) == get_base(p,9)?eggs[get_base(p,8)]:eggs[get_base(p,8)]+' / '+eggs[get_base(p,9)]);
	var  i=5; do {
		$('base'+i).innerHTML =  get_base(p,i);
	} while(i--);
	display_eps();
	display_effectiveness(p);
}
function display_eps(n) { //Displays provided EPs
	if (eps == 0) { return false; }
	var p = $('species').value;
	var n = (n>-1?n:(act>-1?act:actp)); //active row
	var sum = 1*$('ep0-'+n).value + 1*$('ep1-'+n).value + 1*$('ep2-'+n).value + 1*$('ep3-'+n).value + 1*$('ep4-'+n).value + 1*$('ep5-'+n).value;
	$('eps-'+n).innerHTML = (sum==510?'<span class="ok">'+sum+'</span>':sum);
	var item = $('item').value;
	var vit = ((item > 7)?0:1); //vitamins on or off	
	var berry = 1; if (item > 13) { berry = -1; item = item-6; } //berries off or on	
	var mult = $('times').value*(($('pkrs').checked == 1)?2:1)*((item == 1)?2:1)*vit; //multipliers
	
	//hp up, protein, iron, calcium, zinc, 13carbos - Pomeg, Kelpsy, Qualot, Hondew, Grepa and Tamato 		
	var  i=5; do {
		$('eff'+i).innerHTML =  mult*(1*(get_base(p,10)[i])+((item == 2+i)?4:0)) + $('times').value*(1*((item == i+8)?10:0))*berry;
		$('item').options[i+8].disabled = ''; //reset vitamins
		if ($('ep'+i+'-'+n).value*1+$('times').value*10 > 100 || 510 < sum+$('times').value*10 || $('level-'+n).value == 100) {
			$('item').options[i+8].disabled = 'disabled';
			if (item > 7) {
				$('eff'+i).innerHTML = ((item == i+8) && (berry == -1)?-10*$('times').value:0);
			}
		}
	} while(i--);
	
	if (sum > 510) { $('eps-'+n).className = 'error'; }
	else { $('eps-'+n).className = ''; }
}
function display_nature() {
	var n = $('nat').value;
	var i=5; do {
		$('nate-'+i).innerHTML = '-';
		if (natures[n][i-1] > 1) { $('nate-'+i).innerHTML = '<strong>&times;1.1</strong>'; }
		if (natures[n][i-1] < 1) { $('nate-'+i).innerHTML = '&times;0.9'; }
		i--;
	} while(i>0);
}
function display_char() {
	var i=5; do { 
		$('med'+i+'-0').style.borderWidth = '';
	} while(i--);
	var n=$('char').value.split('.')[0];
	if (n > -1) { $('med'+n+'-0').style.borderWidth = '3'; }
}
function display_effectiveness(p) {
	var type1 = get_base(p,6); 
	var type2 = get_base(p,7);
	var d = []; d[4] = []; d[0] = []; d[1] = []; d[2] = []; d[8] = []; d[16] = [];
	var t = []; t[4] = []; t[0] = []; t[1] = []; t[2] = []; t[8] = []; t[16] = [];
	
	if (mode==1 && act >-1) {
		for (var i=0,l=rs.length; i < l; i++)  {
			p = $('number-'+rs[i]).value;
			type1 = get_base(p,6);
			type2 = get_base(p,7);
			for (var j=0; j < 18; j++)  {
				var a = calc_effectiveness(j,type1,type2);
				if(!t[4*a][j]) {
					t[4*a][j] = 1;
					d[4*a].push(j);
				}
				else { t[4*a][j]++; }
			}
		}
	}
	else {
		for (var i=0; i < 18; i++)  {
			var a = calc_effectiveness(i,type1,type2);
			t[4*a][i] = 1;
			d[4*a].push(i);
		}
	}
	var i=4, j=[0,1,2,8,16]; do {
		d[j[i]] = d[j[i]].map(function(v){if(t[j[i]][v]>1){return types[v]+'<strong>&times;'+t[j[i]][v]+'</strong>';}return types[v];});
		d[j[i]].sort();
		$('dmg'+j[i]).innerHTML = d[j[i]].join(', ');
	} while(i--);
}
function add_sprite() { //Adds sprite events
	jQuery(document).on('change', '#species', display_sprite);
	event_add($('number'), 'keyup', display_sprite);
	display_sprite();
}
spr = '';
function display_sprite() { //feel free to modify if you want to server sprites from your server
	clearTimeout(spr);
	if (!navigator.onLine) {
		online = 0;
		$('sprite').innerHTML = '';
		return false;
	}
	alt = {0:'egg',386.1:'386-a',386.2:'386-d',386.3:'386-s',413.1:'413-c',413.2:'413-t',492.1:'492-s',487.1:'487-o',479.1:'479-h',479.2:'479-w',479.3:'479-f',479.4:'479-s',479.5:'479-m',351.1:'351-s',351.2:'351-r',351.3:'351-i',550.1:'550-b',555.1:'555-d',648.1:'648-s',646.1:'646-w',646.2:'646-b',647.1:'647-r',641.1:'641-t',642.1:'642-t',645.1:'645-t',678.1:'678-f',681.1:'681-b',710.1:'710-s',710.2:'710-l',710.3:'710-h',711.1:'711-s',711.2:'711-l',711.3:'711-h',3.1:'003-m',6.1:'006-mx',6.2:'006-my',9.1:'009-m',65.1:'065-m',94.1:'094-m',115.1:'115-m',127.1:'127-m',130.1:'130-m',142.1:'142-m',150.1:'150-mx',150.2:'150-my',181.1:'181-m',212.1:'212-m',214.1:'214-m',229.1:'229-m',248.1:'248-m',257.1:'257-m',282.1:'282-m',303.1:'303-m',306.1:'306-m',308.1:'308-m',310.1:'310-m',354.1:'354-m',359.1:'359-m',445.1:'445-m',448.1:'448-m',460.1:'460-m'};
	spr = setTimeout (function() {
		$('sprite').innerHTML = '';
		var i=0, l=(mode==1 && act >-1?rs.length:1), result='';
		do { //logic here needs reworking
			var n = (mode==1 && act >-1?$('number-'+rs[i]):$('species')).value*1;
			var m = n;
			if (alt[n]) {
				m = alt[n];
			}
			if (m < 10) {
				n = '0'+n;
				m = n;
			}
			if (m < 100) {
				n = '0'+n;
				m = n;
			}
			$('sprite').innerHTML += '<a href="http://www.serebii.net/pokedex-xy/'+(n > 0?Math.floor(n)+'.shtml':'')+'"><img src="http://www.serebii.net/'+
			(mode==1 && act >-1?'pokedex-xy/icon/'+m+'.png':'xy/pokemon/'+m+'.png')+'" alt="'+n+'" /></a>';
			i++;
		} while(i<l);
	}, 500);
}
function display_text(r) { //Displays copy & paste results
	var b=[],a = '#'+$('number-'+r).value+' '+get_text('species',$('number-'+r).value)+' ['+get_text('nat',$('nat-'+r).value)+']<br/>IVs: ';
	//get_text('gnd',$('gnd').value)
	var i=0; do {
		if (ivs[i].length > 3) {
			b.push(ivs[i][0]+' - '+ivs[i][(ivs[i].length-1)]);
		}
		else { b.push(ivs[i].join(', ')); }
		i++;
	} while (i<6);
	a += b.join(' / ');
	a += '<br/>Stats al Nv.'+$('level-'+r).value+': ';
	var i=0,b=[]; do {
		stat = $('stat'+i+'-'+r).value;
		ep = $('ep'+i+'-'+r).value;
		b.push(stat + (ep > 0?' ('+ep+')':''));
		i++;
	} while (i<6);
	a += b.join(' / ');
	display_status(a);
}
function display_stats(r,m) { //Displays calculated stats
	if ($('statlvl').value == 0) { $('statlvl').value = 100; }
	if (mode == 1) { display_status('No se puede calcular los stats en Modo Equipo.'); }
	
	var  i=5; do {
		if (m === '' && (!$('med'+i+'-0').value || error != 0)) {
			display_status('¡No funciona!<br/>Introduce o calcula los IVs primero.');
			return false;
		}
		switch(m) {
			case 0: var iv=0, ep=0, nat='min'; break;
			case 1: var iv=31, ep=255, nat='max'; break;
			default:
			var iv = $('med'+i+'-0').value, ep = $('ep'+i+'-'+r).value, nat = $('nat-'+r).value;
		}
		$('stats'+i).innerHTML = calc_stat($('number-'+r).value,i,iv,ep,$('statlvl').value,nat);
	} while(i--);
	return true;
}
function display_ivs(rn,plv) { //Displays IVs appropriately
	if (error != 0) { return false; }
	if (mode==1) {
		if (rn==0) {
			$('ivrows').style.display = 'none';
			el_del($('ivrows'));
			$('ivrows').style.display = '';
		}
		var a=[], i=0; do {
			if (ivs[i].length > 2) {
				a.push(ivs[i][0]+'-'+ivs[i][(ivs[i].length-1)])+'';
			}
			else { a.push(ivs[i].join('-')); }
			i++;
		} while (i<6);
		var r = el_add($('ivrows'),'tr');
		el_add(r,'td',{},'<h4 class="btn" onclick="toggle_mode(); if ($(\'act-'+rn+'\').checked == 0) { row_act('+rn+'); } calc_ivs('+rn+'); $(\'btn-mode\').focus();">#'+$('number-'+rn).value+':</h4>');
		var i=0; do {
			el_add(r,'td',{className:'right'},a[i]+'');
			i++;
		} while (i<6);
		display_status('Calculation complete.');
		return true;
	}
	var  i=5; do {
		if (!$('medl').checked) { $('med'+i+'-0').value = ivs[i][Math.ceil(ivs[i].length/2)-1]; }
		$('plv'+i+'-0').innerHTML = (plv[i][0] == ''?(ivs[i].length == 1?'<span class="ok">¡OK!</span>':'<span class="tooltip" title="Aproximar usando Poder Oculto.">[?]</span>'):'<span class="btn" onclick="row_add(0,'+plv[i][0]+'); $(\'stat0-\'+(rn-1)).focus();">'+plv[i][0]+'</span>')+(plv[i][2] == ''?'':'<br/><span class="eps">'+plv[i][2]+'</span>');
			
		var ivst = ivs[i].slice();
		if (plv[i][1]<ivst.length) { ivst[plv[i][1]] = ivst[plv[i][1]]+'</span><span class="tooltip" style="font-size: 0.9em;" title="Nv.'+plv[i][0]+' '+stats[i]+': &lt;strong&gt;'+plv[i][4]+'&lt;/strong&gt;">'; }
		$('spr'+i+'-0').innerHTML = '<span class="tooltip" style="font-weight: bold;" '+(plv[i][0] == ''?'':'title="Nv.'+plv[i][0]+' '+stats[i]+': &lt;strong&gt;'+plv[i][3]+'&lt;/strong&gt;"')+'>'+ivst.join(', ')+'&nbsp;</span>';
	} while(i--);
	rn = (mode==2?rn:rs[rs.length-1]);
	display_stats(rn); display_text(rn);
}

eval(function(a,r,c,e,u,s){u=function(c){return(c<r?'':u(parseInt(c/r)))+((c=c%r)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)s[u(c)]=e[c]||u(c);e=[function(u){return s[u]}];u=function(){return'\\w+'};c=1};while(c--)if(e[c])a=a.replace(new RegExp('\\b'+u(c)+'\\b','g'),e[c]);return a}('l s(){w($(\'z\')==q){y("\\u\\3\\A\\1\\2\\7\\0\\1\\4\\5\\1\\o\\4\\3\\9\\2\\6\\4\\3\\5\\1\\3\\m\\1\\6\\d\\4\\8\\1\\c\\7\\3\\f\\7\\2\\j\\r\\8\\1\\9\\4\\a\\0\\5\\a\\0\\h\\n\\p\\9\\0\\2\\8\\0\\1\\2\\9\\b\\2\\e\\8\\1\\i\\0\\0\\c\\1\\6\\d\\0\\1\\a\\7\\0\\g\\4\\6\\8\\1\\4\\5\\6\\2\\a\\6\\h\\n\\n\\b\\b\\b\\k\\9\\0\\f\\0\\5\\g\\2\\7\\e\\c\\3\\i\\0\\j\\3\\5\\k\\5\\0\\6");t}v();x()};',37,37,'u0065|u0020|u0061|u006f|u0069|u006e|u0074|u0072|u0073|u006c|u0063|u0077|u0070|u0068|u0079|u0067|u0064|u0021|u006b|u006d|u002e|function|u0066||u0076|u0050|null|u0027|init0|return|u0059|online_check|if|initO|alert|lp|u0075'.split('|'),0,{}));

function initO() { //Actions to perform once the page has loaded
	$('form').reset(); //reset all fields
	var pkmsprite_pos = [0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 480, 512, 544, 576, 608, 640, 672, 704, 736, 768, 800, 832, 864, 896, 928, 960, 992, 1024, 1056, 1088, 1120, 1152, 1184, 1216, 1248, 1280, 1312, 1344, 1376, 1408, 1440, 1472, 1504, 1536, 1568, 1600, 1632, 1664, 1696, 1728, 1760, 1792, 1824, 1856, 1888, 1920, 1952, 1984, 2016, 2048, 2080, 2112, 2144, 2176, 2208, 2240, 2272, 2304, 2336, 2368, 2400, 2432, 2464, 2496, 2528, 2560, 2592, 2624, 2656, 2688, 2720, 2752, 2784, 2816, 2848, 2880, 2912, 2944, 2976, 3008, 3040, 3072, 3104, 3136, 3168, 3200, 3232, 3264, 3296, 3328, 3360, 3392, 3424, 3456, 3488, 3520, 3552, 3584, 3616, 3648, 3680, 3712, 3744, 3776, 3808, 3840, 3872, 3904, 3936, 3968, 4000, 4032, 4064, 4096, 4128, 4160, 4192, 4224, 4256, 4288, 4320, 4352, 4384, 4416, 4448, 4480, 4512, 4544, 4576, 4608, 4640, 4672, 4704, 4736, 4768, 4800, 4832, 4864, 4896, 4928, 4960, 4992, 5024, 5056, 5088, 5120, 5152, 5184, 5216, 5248, 5280, 5312, 5344, 5376, 5408, 5440, 5472, 5504, 5536, 5568, 5600, 5632, 5664, 5696, 5728, 5760, 5792, 5824, 5856, 5888, 5920, 5952, 5984, 6016, 6048, 6080, 6112, 6144, 6176, 6208, 6240, 6272, 6304, 6336, 6368, 6400, 6432, 6464, 6496, 6528, 6560, 6592, 6624, 6660, 6692, 6724, 6756, 6788, 6820, 6852, 6884, 6916, 6948, 6980, 7012, 7044, 7076, 7108, 7140, 7172, 7204, 7236, 7268, 7300, 7332, 7364, 7396, 7428, 7460, 7492, 7524, 7556, 7588, 7620, 7652, 7684, 7716, 7748, 7780, 7812, 7844, 7876, 7908, 7940, 7973, 8005, 8037, 8069, 8101, 8133, 8165, 8197, 8229, 8261, 8293, 8325, 8357, 8389, 8421, 8453, 8485, 8517, 8549, 8581, 8613, 8645, 8677, 8709, 8741, 8773, 8805, 8837, 8869, 8901, 8933, 8965, 8997, 9029, 9061, 9093, 9125, 9157, 9189, 9221, 9253, 9285, 9317, 9349, 9381, 9413, 9445, 9477, 9509, 9541, 9573, 9605, 9637, 9669, 9701, 9733, 9765, 9797, 9829, 9861, 9893, 9925, 9957, 9989, 10021, 10053, 10085, 10117, 10149, 10181, 10213, 10245, 10277, 10309, 10341, 10373, 10405, 10437, 10469, 10501, 10533, 10565, 10597, 10629, 10661, 10693, 10725, 10757, 10789, 10821, 10853, 10885, 10917, 10949, 10981, 11013, 11045, 11077, 11109, 11141, 11173, 11205, 11237, 11269, 11301, 11333, 11365, 11397, 11429, 11461, 11493, 11525, 11557, 11589, 11621, 11653, 11685, 11717, 11749, 11781, 11813, 11845, 11877, 11909, 11941, 11973, 12005, 12037, 12069, 12101, 12133, 12165, 12197, 12230, 12263, 12295, 12327, 12359, 12391, 12423, 12455, 12487, 12519, 12551, 12583, 12615, 12647, 12679, 12711, 12743, 12775, 12807, 12839, 12871, 12903, 12935, 12967, 12999, 13031, 13063, 13095, 13127, 13159, 13191, 13223, 13255, 13287, 13319, 13351, 13383, 13415, 13447, 13479, 13511, 13543, 13575, 13607, 13639, 13671, 13703, 13735, 13767, 13799, 13831, 13863, 13895, 13927, 13959, 13991, 14023, 14055, 14087, 14119, 14151, 14183, 14215, 14247, 14279, 14311, 14343, 14375, 14407, 14439, 14471, 14503, 14535, 14567, 14599, 14631, 14663, 14695, 14727, 14759, 14791, 14823, 14855, 14887, 14919, 14951, 14983, 15015, 15047, 15079, 15111, 15143, 15175, 15207, 15239, 15271, 15303, 15335, 15367, 15399, 15431, 15463, 15495, 15529, 15561, 15593, 15625, 15657, 15689, 15721, 15753, 15785, 15817, 15849, 15881, 15913, 15945, 15977, 16009, 16041, 16073, 16105, 16137, 16169, 16201, 16233, 16265, 16297, 16329, 16361, 16393, 16425, 16457, 16489, 16521, 16553, 16585, 16617, 16649, 16681, 16713, 16745, 16777, 16809, 16841, 16873, 16905, 16937, 16969, 17001, 17033, 17065, 17097, 17129, 17161, 17193, 17225, 17257, 17289, 17321, 17353, 17385, 17417, 17449, 17481, 17513, 17545, 17577, 17609, 17641, 17673, 17705, 17737, 17769, 17801, 17833, 17865, 17897, 17929, 17961, 17993, 18025, 18057, 18089, 18121, 18153, 18185, 18217, 18249, 18281, 18313, 18345, 18377, 18409, 18441, 18473, 18505, 18537, 18569, 18601, 18633, 18665, 18697, 18729, 18761, 18793, 18825, 18857, 18889, 18921, 18953, 18985, 19017, 19049, 19081, 19113, 19145, 19177, 19209, 19241, 19273, 19305, 19337, 19369, 19401, 19433, 19465, 19497, 19529, 19561, 19593, 19625, 19657, 19689, 19721, 19753, 19785, 19817, 19849, 19881, 19913, 19945, 19977, 20009, 20041, 20073, 20105, 20137, 20169, 20201, 20233, 20265, 20297, 20329, 20361, 20393, 20425, 20457, 20489, 20521, 20553, 20585, 20617, 20649, 20681, 20713, 20745, 20777, 20809, 20841, 20873, 20905, 20937, 20969, 21001, 21033, 21065, 21097, 21129, 21161, 21193, 21225, 21257, 21289, 21321, 21353, 21385, 21417, 21449, 21481, 21513, 21545, 21577, 21609, 21641, 21673, 21705, 21737, 21769, 21801, 21833, 21865, 21897, 21929, 21961, 21993, 22025, 22057, 22089, 22121, 22153, 22185, 22217, 22249, 22281, 22313, 22345, 22377, 22409, 22441, 22473, 22505, 22537, 22569, 22601, 22633, 22665, 22697, 22729, 22761, 22793, 22825, 22857, 22889, 22921, 22953];
	toggle_theme();
	tooltips();
	display_status('<span class="loading">Iniciando...</span>');
	$('calculator').style.minHeight = (1*(window.innerHeight?window.innerHeight:(document.body?document.body.clientHeight:''))-16)+'px'; /* remove this when including */
	$('ept').style.visibility = 'hidden';
	$('mode1').style.display = 'none';
	toggle($('history'));	
	
	jQuery('#species').select2({
		placeholderOption: function(e) { return e.find("option:first"); },
		width: '100%',
		allowClear: true,
		formatResult: function(state){
			if (!state.id) return state.text; // optgroup
			return '<img class="pkmsprite" style="background-position: '+(pkmsprite_pos[Math.floor(state.id - 1)] * -1) +'px 0px;"/>' + state.text;
		},
		formatSelection: function(state){
			if (!state.id) return state.text; // optgroup
			return '<img class="pkmsprite" style="background-position: '+(pkmsprite_pos[Math.floor(state.id - 1)] * -1) +'px 0px;"/>' + state.text;
		}
	});
	jQuery('#nat').select2({
		placeholderOption: function(e) { return e.find("option:first"); },
		width: '100%',
		allowClear: true
	});
	jQuery('#char').select2({
		placeholderOption: function(e) { return e.find("option:first"); },
		width: '100%',
		allowClear: true
	});
	jQuery('#hpt').select2({
		placeholderOption: function(e) { return e.find("option:first"); },
		width: '100%',
		allowClear: true
	});
	jQuery('#pot0').select2({
		placeholderOption: function(e) { return e.find("option:first"); },
		width: '100%',
		allowClear: true
	});
	jQuery('#pot1').select2({
		placeholderOption: function(e) { return e.find("option:first"); },
		width: '100%',
		formatSelection: function(state){
			if (!state.id) return state.text; // optgroup
			values = ['PS', 'A', 'D', 'AS', 'DS', 'V']
			return values[state.id];
		},
		allowClear: true
	});
	jQuery('#pot2').select2({
		placeholderOption: function(e) { return e.find("option:first"); },
		width: '100%',
		allowClear: true
	});
	jQuery(document).on('change', '#species', function(){
		jQuery('#number').val(Math.floor(jQuery(this).val()));
		jQuery('#species').select2("val", jQuery(this).val());
		display_base(); 
		row_edit();
	});
	jQuery(document).on('keyup', '#number', function(e){
		evt = e.originalEvent;
		vv('number',0,718,evt);
		jQuery('#species').select2("val", jQuery(this).val());
	});
	jQuery(document).on('change', '#nat', function(){
		display_nature();
		row_edit();
	});
	jQuery(document).on('change', '#char', function(){
		display_char();
		row_edit();
	});
	jQuery(document).on('change', '#hpt', function(){
		row_edit(); 
		if(act>-1){ $('level-'+act).focus();}
	});
	jQuery('#hpt').on("select2-blur", function(e) { 
		if(act>-1){ $('level-'+act).focus();}
	});
	event_add($('pkrs'),"click", function () { display_eps(); });
	event_add($('item'),"change", function () { display_eps(); });
	event_add($('times'),"keyup", function (evt) { vv('times',0,255,evt); display_eps(); });
	
	event_add($('level-0'),"keyup", function (evt) { vv('level-0',0,100,evt,0); });
	event_add($('statlvl'),"keyup", function (evt) { vv('statlvl',0,100,evt); });
	event_add($('act-0'),"click", function () { row_act(0); });
	var  i=5; do {
		event_add($('stat'+i+'-0'),"keyup", function (evt) { vv(this.id,0,999,evt,0); });
		event_add($('ep'+i+'-0'),"keyup", function (evt) { vv(this.id,0,255,evt,0); display_eps(); });
		event_add($('med'+i+'-0'),"keyup", function (evt) { vv(this.id,0,31,evt); });
	} while(i--);
	
	jQuery(document).on('change', '#pot0', function(){
		row_edit(); 
	});
	jQuery('#pot1').on("select2-blur", function(e) {
		jQuery('#pot1 option:first').prop("selected", false);
		if(jQuery('#pot1').select2("val").length == 0){
			jQuery('#pot1 option:first').prop("selected", true);
		}
		row_edit();
	});
	jQuery(document).on('change', '#pot2', function(){
		row_edit(); 
	});
	
	event_add($('btn-addrow'),"click", function () { row_add(); $((mode?'name':'stat0-'+(rn-1))).focus(); tooltips(); });
	event_add($('btn-addeps'),"click", add_eps);
	event_add($('btn-theme'),"click", toggle_theme);
	event_add($('btn-eps'),"click", function () { calc_eps(); });
	event_add($('btn-evs'),"click", toggle_evs);
	event_add($('btn-mode'),"click", function () { toggle_mode(mode); });	
	event_add($('btn-save'),"click", code_save);
	event_add($('btn-ivs'),"click", function () { calc_ivs((mode==2 && act>-1?act:0)); tooltips(); });
	event_add($('btn-stats'),"click", function () { display_stats((act>-1?act:0)); });
	event_add($('btn-statsmin'),"click", function () { display_stats((act>-1?act:0),0); });
	event_add($('btn-statsmax'),"click", function () { display_stats((act>-1?act:0),1); });
	event_add($('btn-hp'),"click", function () { calc_hidden((mode==2 && act>-1?act:0)); });
	event_add($('toggleinfo'),"click", function () { toggle($('info')); toggle($('instructions')); });
	event_add($('toggleinstructions'),"click", function () { toggle($('info')); toggle($('instructions')); });
	event_add($('togglehistory'),"click", function () { toggle($('history')); });
			
	var tload;
	event_add($('btn-load'),"click", function(){
		if(tload){
			clearTimeout(tload);
			tload = '';
			code_load(prompt('Introduce el SaveCode:'));
		}
		else tload= setTimeout(function(){
			tload = '';
			code_load(location.search);
		},300);
	});
	
	pop_species();
	display_base();
	
	if (location.protocol != 'data:') {
		var br = navigator.userAgent;
		if (br.indexOf('iPhone') > -1 || br.indexOf('iPod') > -1 || br.indexOf('iPad') > -1) {
		$('download').innerHTML = "¡Estimado fan &#63743;! ¡Puedes <strong>guardar</strong> (sí) esta página, para usarla offline, <a href=\"javascript:x=new XMLHttpRequest();x.onreadystatechange=function(){if(x.readyState==4)location='data:text/html;charset=utf-8;base64,'+btoa(unescape(encodeURIComponent(x.responseText)))};x.open('GET',location);x.send('');\">pulsando aquí</a> y guardando en marcadores después!";  }
	}
	
	if (location.search.indexOf('sc=') > -1) { $('btn-load').value+='*'; $('btn-load').focus(); } //Make SavedCose visible
	
	if ((document.charset && document.charset.toLowerCase() != 'utf-8') || (document.characterSet && document.characterSet.toLowerCase() != 'utf-8')) {
		display_status("Por favor cambia tu navegador a caracteres UTF-8 o esta herramienta no funcionará como se espera.");
	}
	else { display_status('Cargado sin errores.<br/><span class="btn" onclick="toggle_simple();">¿Versión sencilla?</span>'); }
}
event_add(window,"load", init0);
//--><!]]>
</script>
<div id="head" class="block">
<table><tr><td class="primary"><h1>Calculadora XY de Valores Individuales y Stats</h1></td>
<td class="secondary"><a href="http://www.legendarypokemon.net" target="_blank">LegendaryPokemon.net</a></td></tr></table> <!-- feel free to put your branding here -->
</div><!-- end header -->
<noscript><div class="block"><p class="center">Es necesario que el navegador permita JavaScrit para que la calculadora funcione correctamente. Por favor, activa también el contenido bloqueado.</p></div></noscript>
<div id="gui" class="block"><form id="form" action="" onsubmit="return false;"><table>
<tr><td class="primary"><table>
<tr><td colspan="7"><h2>Especie Pokémon</h2></td><td colspan="3"><h2>Naturaleza</h2></td></tr>
<tr>
	<td colspan="7">
	<select id="species" name="species">
		<option value="0">Selecciona pokémon</option>
	</select>
	</td>
<!--<td>
<select id="gnd" name="gnd">
	<option value="-1">&#9898;</option>
	<option value="0">&#9792;</option>
	<option value="1">&#9794;</option>
</select>
</td>-->
<td colspan="3">
<select id="nat" name="nat">
	<option value="-1">Sel. naturaleza</option>
	<option value="13">Activa</option>
	<option value="11">Afable</option>
	<option value="15">Agitada</option>
	<option value="17">Alegre</option>
	<option value="20">Alocada</option>
	<option value="12">Amable</option>
	<option value="22">Audaz</option>
	<option value="16">Cauta</option>
	<option value="2">Dócil</option>
	<option value="14">Firme</option>
	<option value="19">Floja</option>
	<option value="3">Fuerte</option>
	<option value="25">Grosera</option>
	<option value="10">Huraña</option>
	<option value="21">Ingenua</option>
	<option value="24">Mansa</option>
	<option value="9">Miedosa</option>
	<option value="7">Modesta</option>
	<option value="6">Osada</option>
	<option value="18">Pícara</option>
	<option value="23">Plácida</option>
	<option value="5">Rara</option>
	<option value="8">Serena</option>
	<option value="4">Seria</option>
	<option value="1">Tímida</option>
</select></td>
</tr>
<tr class="ext"><td colspan="2"><h4>Tipo:</h4></td><td id="types" colspan="3" class="left"></td><td colspan="2"><h4>Grupo Huevo:</h4></td><td id="eggs" colspan="3" class="left"></td></tr>
<tr class="ext"><td colspan="7"><h2 class="tooltip" title="&lt;strong&gt;Opcional&lt;/strong&gt; De Diamante/Perla en adelante.">Característica *</h2></td><td colspan="3"><h2 class="tooltip" title="&lt;strong&gt;Opcional&lt;/strong&gt; Pregunta al gurú del Poder Oculto en Ciudad Fluxus, la segunda casa a la derecha desde el Centro Pokémon.">Poder Oculto *</h2></td></tr>
<tr class="ext"><td colspan="7"><input type="hidden" id="charn" name="charn" class="left" />
<select id="char" name="char">
	<option val="-1">Selecciona característica</option>
	<option value="3.3">A menudo está en Babia</option>
	<option value="0.1">A menudo se duerme</option>
	<option value="1.2">A veces se enfada</option>
	<option value="4.1">Algo orgulloso</option>
	<option value="2.1">Buen fajador</option>
	<option value="2.0">Cuerpo resistente</option>
	<option value="0.2">Duerme mucho</option>
	<option value="5.3">Es un poco payaso</option>
	<option value="3.0">Extremadamente curioso</option>
	<option value="5.4">Huye rápido</option>
	<option value="5.2">Impetuoso y bobo</option>
	<option value="0.0">Le encanta comer</option>
	<option value="5.0">Le gusta correr</option>
	<option value="3.1">Le gusta hacer travesuras</option>
	<option value="1.3">Le gusta luchar</option>
	<option value="0.4">Le gusta relajarse</option>
	<option value="1.1">Le gusta revolverse</option>
	<option value="3.2">Muy astuto</option>
	<option value="4.2">Muy insolente</option>
	<option value="3.4">Muy melindroso</option>
	<option value="2.4">Muy perseverante</option>
	<option value="2.2">Muy persistente</option>
	<option value="2.3">Muy resistente</option>
	<option value="4.0">Muy voluntarioso</option>
	<option value="4.3">Odia perder</option>
	<option value="5.1">Oído siempre alerta</option>
	<option value="1.0">Orgulloso de su fuerza</option>
	<option value="0.3">Suele desordenar cosas</option>
	<option value="1.4">Tiene mal genio</option>
	<option value="4.4">Un poco cabezota</option>
<!--Variaciones de traducción entre la versión inglesa hasta BW2 y XY 
Hiruneoyokusuru - Often dozes off - Takes plenty of siestas (HP%5=1)
Inemurigaooi - Often scatters things - Nods off a lot - (HP%5=2)
Monooyokuchirasu - Scatters things often - Scatters things often - (HP%5=3)
-->
</select>
</td>
<td colspan="3"><select name="hpt" id="hpt">
	<option value="-1">Sel. poder</option>
	<option value="7">Acero</option>
	<option value="9">Agua</option>
	<option value="5">Bicho</option>
	<option value="14">Dragón</option>
	<option value="11">Eléctrico</option>
	<option value="6">Fantasma</option>
	<option value="8">Fuego</option>
	<option value="16">Hada (???)</option>
	<option value="13">Hielo</option>
	<option value="0">Lucha</option>
	<option value="10">Planta</option>
	<option value="12">Psíquico</option>
	<option value="4">Roca</option>
	<option value="15">Siniestro</option>
	<option value="3">Tierra</option>
	<option value="2">Veneno</option>
	<option value="1">Volador</option>
</select></td>
</tr>
<tr class="ext tooltip" title="&lt;strong&gt;Opcional&lt;/strong&gt; Pregunta al Juez de Stats en el Centro Pokémon de Ciudad Batik."><td colspan="5"><h2>Potencial general *</h2></td><td colspan="5"><h2>Mejor(es) Stat(s) *</h2></td></tr>
<tr class="ext">
<td colspan="5"><select name="pot0" id="pot0">
	<option value="-1">Selecciona potencial</option>
	<option value="0">No está nada mal [0-90]</option>
	<option value="1">Es superior a la media [91-120]</option>
	<option value="2">Tiene un potencial excelente [121-150]</option>
	<option value="3">Tiene un potencial extraordinario [151-186]</option>
</select></td>
<td colspan="2" style="position: relative;" class="left top"><select name="pot1" id="pot1" size="1" multiple="multiple">
	<option value="-1">Sel.</option>
	<option value="0">PS</option>
	<option value="1">Ataque</option>
	<option value="2">Defensa</option>
	<option value="3">Ataque Especial</option>
	<option value="4">Defensa Especial</option>
	<option value="5">Velocidad</option>
</select>	
</td>
<td colspan="3"><select name="pot2" id="pot2">
	<option value="-1">Selecciona</option>
	<option value="0">Bastante Bueno</option>
	<option value="1">Muy Bueno</option>
	<option value="2">Fantástico</option>
	<option value="3">Inmejorable</option>
</select></td>
<!--
	zero IVs:
<td colspan="3"><select name="pot3" id="pot3">
	<option value="-1"> </option>
	<option value="0">PS</option>
	<option value="1">Ataque</option>
	<option value="2">Defensa</option>
	<option value="3">Ataque Especial</option>
	<option value="4">Defensa Especial</option>
	<option value="5">Velocidad</option>
</select></td>
-->
</tr>


<tr class="ext"><td></td><td></td><td></td><td><h3>PS</h3></td><td><h3>Atk</h3></td><td><h3>Def</h3></td><td><h3>At.Sp</h3></td><td><h3>Df.Sp</h3></td><td><h3>Vel</h3></td><td><h3 class="center">#Dex</h3></td></tr>

<tr class="ext"><td colspan="3"><h4>Efectos Naturaleza:</h4></td><td></td><td class="right" id="nate-1">-</td><td class="right" id="nate-2">-</td><td class="right" id="nate-3">-</td><td class="right" id="nate-4">-</td><td class="right" id="nate-5">-</td></tr>
<tr class="ext"><td colspan="3"><h4>Stats Base:</h4></td><td class="right" id="base0"></td><td class="right" id="base1"></td><td class="right" id="base2"></td><td class="right" id="base3"></td><td class="right" id="base4"></td><td class="right" id="base5"></td><td><input style="text-align: right;"  type="text" id="number" name="number" maxlength="3" size="3" value="0" /></td></tr>
<tr class="eps ext"><td colspan="3"><h4>Puntos de Esfuerzo:</h4></td><td class="right" id="eff0"></td><td class="right" id="eff1"></td><td class="right" id="eff2"></td><td class="right" id="eff3"></td><td class="right" id="eff4"></td><td class="right" id="eff5"></td><td></td></tr>
<tr id="ept" class="eps ext">
<td colspan="2"><h4>Pokérus:</h4></td><td><input name="pkrs" id="pkrs" type="checkbox"/></td>
<td><h4>Item:</h4></td><td colspan="3"><select id="item" name="item">
	<option value="0"> </option>
	<optgroup label="Held items">
	<option value="1">Brazal Firme</option>
	<option value="2">Pesa Recia</option>
	<option value="3">Brazal Recio</option>
	<option value="4">Cinto Recio</option>
	<option value="5">Lente Recia</option>
	<option value="6">Banda Recia</option>
	<option value="7">Franja Recia</option>
	</optgroup>
	<optgroup label="Vitamins">
	<option value="8">Más PS</option>
	<option value="9">Proteína</option>
	<option value="10">Hierro</option>
	<option value="11">Calcio</option>
	<option value="12">Zinc</option>
	<option value="13">Carburante</option>
	</optgroup>
	<optgroup label="Anti-Vitamins">
	<option value="14">Baya Grana</option>
	<option value="15">Baya Algama</option>
	<option value="16">Baya Ispero</option>
	<option value="17">Baya Meluce</option>
	<option value="18">Baya Uvav</option>
	<option value="19">Baya Tamate</option>
	</optgroup>
</select></td>
<td>&times;</td><td><input type="text" id="times" name="times" maxlength="3" size="3" value="1" /></td>
<td><input class="button tooltip" type="button" id="btn-addeps" value="+" title="Incluir Puntos de Esfuerzo" /></td></tr>

<tr><td></td><td><h3>Nivel</h3></td><td></td><td><h3>PS</h3></td><td><h3>Atk</h3></td><td><h3>Def</h3></td><td><h3>At.Sp</h3></td><td><h3>Df.Sp</h3></td><td><h3>Vel</h3></td><td><h3 class="center">#Dex</h3></td></tr>
<tr id="statrow-0"><td><input type="radio" class="radio tooltip" name="act" id="act-0" value="0" checked="checked" title="(Des)Activar esta fila"/> <span id="btn-addrow" class="btn tooltip" title="Incluir nueva fila">+</span></td><td><input type="text"  id="level-0" name="level-0" maxlength="3" size="3"/></td><td><h4>Stats:</h4></td>
<td><input type="text" name="stat0-0" id="stat0-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat1-0" id="stat1-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat2-0" id="stat2-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat3-0" id="stat3-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat4-0" id="stat4-0" maxlength="3" size="3" value="" /></td>
<td><input type="text" name="stat5-0" id="stat5-0" maxlength="3" size="3" value="" /></td>
<td><input style="text-align: right;" disabled="disabled" type="text" id="number-0" name="number-0" maxlength="3" size="3" value="0" /><input type="hidden" id="nat-0" name="nat-0" value="" /><input type="hidden" id="char-0" name="char-0" value="" /><input type="hidden" id="hpt-0" name="hpt-0" value="" /><input type="hidden" id="pot0-0" name="pot0-0" value="" /><input type="hidden" id="pot1-0" name="pot1-0" value="" /><input type="hidden" id="pot2-0" name="pot2-0" value="" /></td>
</tr>
<tr id="eprow-0" class="eps"><td></td><td id="eps-0"></td><td><h4>EVs:</h4></td>
<td><input type="text" name="ep0-0" id="ep0-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep1-0" id="ep1-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep2-0" id="ep2-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep3-0" id="ep3-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep4-0" id="ep4-0" maxlength="3" size="3" value="0" /></td>
<td><input type="text" name="ep5-0" id="ep5-0" maxlength="3" size="3" value="0" /></td>
<td></td>
</tr>

<tr class="eps ext"><td></td><td id="epsr"></td><td></td><td class="right" id="eps0"></td><td class="right" id="eps1"></td><td class="right" id="eps2"></td><td class="right" id="eps3"></td><td class="right" id="eps4"></td><td class="right" id="eps5"></td><td></td></tr>
<tfoot id="statrows"></tfoot>
</table></td>

<td class="secondary">
<table id="mode0">
<tr><td colspan="8"><h2>Valores Individuales</h2></td></tr>
<tr><td colspan="2"></td><td><h3>PS</h3></td><td><h3>Atk</h3></td><td><h3>Def</h3></td><td><h3>At.Sp</h3></td><td><h3>Df.Sp</h3></td><td><h3>Vel</h3></td></tr>
<tr><td colspan="2"><h4><input name="medl" id="medl" class="ext tooltip" type="checkbox" title="Fijar IVs mediano"/> Mediana:</h4></td>
<td><input type="text" name="med0-0" id="med0-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med1-0" id="med1-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med2-0" id="med2-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med3-0" id="med3-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med4-0" id="med4-0" maxlength="2" size="2"/></td>
<td><input type="text" name="med5-0" id="med5-0" maxlength="2" size="2"/></td></tr>
<tr class="tooltip" title="Siguiente Nivel útil o EVs exactos para un IV exacto (mismo Nivel)." class="top"><td colspan="2"><h4>+ Nv.:</h4><h4 class="eps">+ EVs:</h4></td>
<td id="plv0-0"></td>
<td id="plv1-0"></td>
<td id="plv2-0"></td>
<td id="plv3-0"></td>
<td id="plv4-0"></td>
<td id="plv5-0"></td></tr>
<tr><td colspan="2" class="top"><h4>Distribución:</h4></td>
<td id="spr0-0" class="right"></td>
<td id="spr1-0" class="right"></td>
<td id="spr2-0" class="right"></td>
<td id="spr3-0" class="right"></td>
<td id="spr4-0" class="right"></td>
<td id="spr5-0" class="right"></td></tr>
</table>
<table id="mode1" class="mode">
<tr><td colspan="7"><h2>Valores Individuales</h2></td></tr>
<tr><td></td><td><h3>PS</h3></td><td><h3>Atk</h3></td><td><h3>Def</h3></td><td><h3>At.Sp</h3></td><td><h3>Df.Sp</h3></td><td><h3>Vel</h3></td></tr>
<tfoot id="ivrows"></tfoot></table>
</td></tr>
<tr class="ext"><td id="bar" class="secondary">
<table>
<tr><td id="sprite" colspan="4" rowspan="5"></td><td colspan="7"><h2 class="tooltip" title="Los efectos de habilidades se ignoran.">Daño Recibido</h2></td></tr>
<tr><td><h4>&times;0</h4></td><td colspan="5" id="dmg0" class="left"></td></tr>
<tr><td><h4>&times;&frac14;</h4></td><td colspan="5" id="dmg1" class="left"></td></tr>
<tr><td><h4>&times;&frac12;</h4></td><td colspan="5" id="dmg2" class="left"></td></tr>
<tr><td><h4>&times;2</h4></td><td colspan="5" id="dmg8" class="left"></td></tr>
<tr><td colspan="4"><input type="text" name="nickname" id="nickname" maxlength="10" size="10" class="center tooltip" title="&lt;strong&gt;Opcional&lt;/strong&gt;  Mote del Pokémon" /></td>
	<td><h4>&times;4</h4></td><td colspan="5" id="dmg16" class="left"></td></tr>
</table>
</td>

<td class="secondary">
<table><tr><td colspan="8"><h2>Stats Calculados - <span class="btn tooltip" id="btn-statsmin" title="Cero IVs y EVs; naturaleza desfavorable en todos los stats.">min</span> / <span class="btn tooltip" id="btn-statsmax" title="Máximos IVs y EVs (salvo desactivado); naturaleza favorable en todos los stats.">max</span></h2></td></tr>
<tr><td class="top"><h4>Nv.:</h4></td><td class="top"><input type="text"  id="statlvl" name="statlvl" maxlength="3" size="3"/></td><td id="stats0" class="right"></td><td id="stats1" class="right"></td><td id="stats2" class="right"></td><td id="stats3" class="right"></td><td id="stats4" class="right"></td><td id="stats5" class="right"></td></tr></table>
<table><tr><td colspan="6"><h2>Poder Oculto</h2></td></tr>
<tr><td><h4>Tipo:</h4></td><td id="hiddent" colspan="5" class="left"></td></tr>
<tr><td><h4>Poder:</h4></td><td id="hiddenp" colspan="5" class="left"></td></tr>
</table>
</td></tr>

<tr><td class="primary" style="vertical-align: middle;">
<table>
<tr><td id="status" colspan="3">¡Autodestrucción inmediata!<br/>Activa JavaScript o reporta este error si persiste.</td></tr>
</table>
</td>

<td id="controls" class="secondary">
<table>
<tr>
<td><input type="button" class="button" id="btn-evs" value="EVs: ON" /></td>
<td><input type="button" class="button" id="btn-theme" value="Tema" /></td>
<td><input type="button" class="button" id="btn-save" value="Guardar" /></td>
<td><input type="button" class="button" id="btn-load" value="Cargar" /></td>
</tr>
<tr class="ext"><td colspan="2"><input type="button" class="button" id="btn-mode" value="Modo Individual" /></td><td colspan="2"><input type="button" class="button" id="btn-eps" value="Calcular EVs" /></td></tr>
<tr class="ext"><td colspan="2"><input type="button" class="button" id="btn-hp" value="Calcular Poder Oculto" /></td>
<td colspan="2"><input type="button" class="button" id="btn-stats" value="Calcular Stats" /></td></tr>
<tr><td colspan="4"><input type="button" class="button" id="btn-ivs" value="Calcular Valores Individuales" /></td></tr>
</table>
</td></tr>
</table></form></div><!-- end gui -->

<div id="documentation" class="block">
<table><tr><td class="primary">
<h2 id="toggleinfo">Información del programa &#177;</h2>
<div id="info">
<h3>Cómo descargar esta calculadora</h3>
<p id="download">En tu navegador, ve a <strong>Archivo &gt; Guardar como...</strong> y guarda esta página en tu ordenador. Asegúrate de elegir <strong>sólo HTML</strong> al guardar. Puedes usar la calculadora offline cuando quieras.</p>
<h3>Compatible con:</h3>
<p>Varios Pokémon han visto cambiados sus Stats Base en <strong>Pokémon X e Y</strong>, por lo que esta calculadora no es compatible con juegos anteriores, pero puedes usar la <a href="http://www.pokexperto.net/mecanica/javacalc.php" target="_blank">Calculadora Advance de IVs y Stats</a> en su lugar.</p>
<h3>Acerca de</h3>
<p>Esta Calculadora de IVs / Calculadora de Stats / Calculadora de Poder Oculto ha sido escrita por <a href="http://archi.tect.gr" target="_blank">Heracles Papatheodorou a.k.a Arty2</a>, webmaster de <a href="http://www.legendarypokemon.net" id="lp" target="_blank">Legendary Pokémon</a>. Permite el cálculo de los Valores Individuales de cualquier Pokémon si se dan detalles suficientes sobre el Pokémon.</p>
<p>Ha sido escrita en <strong>JavaScript</strong> para asegurar la compatibilidad entre sistemas. Se trata de un único archivo de pequeño tamaño y sólo requiere de un navegador con JavaScript activado. <em>Debería</em> funcionar sin errores en Internet Explorer, Opera, Firefox, Chrome y Safari en cualquier sistema, incluso la Nintendo DSi.</p>
<p>Si quieres traducir, modificar o incluir estre programa en tu website, por favor lee la Licencia indicada abajo.</p>

<h2 id="togglehistory">Historia del Programa ±</h2>
<p id="version"><span class="ok">¡OK!</span> ¡Estás usando la última versión!</p>
<dl>
	<dt>Version 1.1 (20 de noviembre de 2013)</dt>
 	<dd>Solución de errores de la base de datos de stats.</dd>
	<dt>Version 1 (19 de noviembre de 2013)</dt>
 	<dd>Desarrollada desde la <a href="http://www.pokexperto.net/mecanica/javacalc.php" target="_blank">Calculadora Advance de IVs y Stats</a> y ajustada a Pokémon X e Y.</dd>
</dl>
<dl id="history">
	<dt>Version 1.0beta (14 de septiembre de 2004)</dt>
 	<dd>Primera publicación.</dd>
</dl>

<h2>Licencia</h2>
<p>Esta obra está licenciada bajo una <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Licencia Creative Commons</a> y la modificación de los créditos de este programa está <strong>prohibida</strong>.</p>
<dl>
<dt>Eres libre de:</dt>
<dd><strong>Compartir</strong> — copiar, distribuir y transmitir la obra</dd>
<dd><strong>Refundir</strong> — adaptar la obra</dd>

<dt>Bajo las siguientes condiciones:</dt>
<dd><strong>Atribución</strong> — Debes dar crédito por la obra en la manera indicada por el autor o licenciante (pero no de una manera que sugiera que te apoyan a tí o a tu uso de la obra).</dd>
<dd><strong>No Comercial</strong> — No puedes usar esta obra con fines comerciales.</dd>
<dd><strong>Compartir Igual</strong> — Si alteras, transformas o desarrollas desde esta obra, puedes distribuir la obra resultante sólo bajo una licencia idéntica o similar a esta.</dd>
</dl>
<p>Gracias a <a href="http://www.dustindiaz.com/" target="_blank">Dustin Diaz</a> por algunas de sus increíbles funciones.</p>
<p>El autor de este programa querría ser informado sobre tus modificaciones, incluyendo traducciones.</p>
<h2>Aviso</h2>
<p>Pokémon y sus personajes relacionados son &copy; de Nintendo, Creatures, Gamefreak y Pokémon Inc. Este programa no oficial hecho por fans no cuenta con el apoyo de ninguna de esas empresas.</p>
</div>

</td>
<td class="secondary">
<h2 id="toggleinstructions">Instrucciones &#177;</h2>
 	<div id="instructions">
	<h3>¿Qué son los IVs y EVs?</h3>
		<p>Si estos términos <span class="tooltip" title="chiste malo">te suenan a griego</span>, deberías darte una vuelta por nuestras <a href="http://www.pokexperto.net/index2.php?seccion=mecanica/genetica34" target="_blank">secciones</a> de <a href="http://www.pokexperto.net/index2.php?seccion=nds/effortBW" target="_blank">mecánica</a> antes de usar esta herramienta.</p>
		<p>Algunos ejemplos: <a href="javascript:code_load('?sc=0,0,1,0,Charmega!%209,18,22,7,22,8,100!%206,45,129,79,85,106,91,107,0,0,0,0,0,0,9,4.2,4,0,2,1!%206.1,45,129,117,114,125,91,107,0,0,0,0,0,0,9,4.2,4,0,2,1')">Charizard</a>, <a href="javascript:code_load('?sc=0,0,1,0,Brasiken!%2031,6,10,28,6,1,100!%20257,85,271,265,144,207,139,168,70,129,59,78,50,124,14,0.1,-1,0,0,3!%20257.1,85,271,339,161,238,156,202,70,129,59,78,50,124,14,0.1,-1,0,0,3!%20257,85,257,235,132,193,129,141,0,0,0,0,0,0,14,0.1,-1,0,0,3')">Blaziken</a></p>
	<h3>Interfaz de Usuario</h3>
	<dl>
		<dt>Guardar</dt><dd>Genera un SaveCode y un link (URL) que puedes guardar en tus marcadores o enviar a un amigo.</dd>
		<dt>Cargar</dt><dd>Haz un clik para cargar los datos guardados en la URL, o doble click para cargar un SaveCode.</dd>
	</dl>
	<h3>Cálculo de IVs <span class="ext btn" onclick="toggle_simple();">(¿versión sencilla?)</span></h3>
		<p>* Los campos con asterisco son opcionales.</p>
		<p class="center ok">¡SIEMPRE CONTROLA LOS PUNTOS DE ESFUERZO!</p>
		<p>Cualquier calculadora dará errores si los Puntos de Esfuerzo de tu Pokémon no son precisos. Si es necesario, dale las <em>bayas reductoras de esfuerzo</em> que sean necesarias, o usa un <em>Saco Reset</em> en <em>Superentrenamiento</em> para quitarle todos sus EVs.</p>
		<p>El <em>Juez de Stats</em> está en Ciudad Batik, en el Centro Pokémon. Puede decirte el potencial de tu Pokémon y el stat con mayor IV. También te informará sobre IVs nulos. Al usar la Calculadora, puedes usar la tecla CTRL / CMD para (de)seleccionar varios stats.</p>
		<p>Puedes obtener resultados en la práctica 100% precisos al nivel 20, usando unos pocos Caramelos Raros; salva antes si quieres conservarlos, claro.</p>
		<p><strong>Modo Individual:</strong> Cuanto mayor sea el nivel de tu Pokémon más precisos serán los resultados. Si quieres hacer el cálculo a nivel bajo, introduce la información opcional y filas de datos adicionales al subir de nivel, evolucionar o cambiar de forma. Los indicadores de <em>Nv.</em> y los <em>+EVs</em> te indican cuántos niveles o Puntos de Esfuerzo (al mismo nivel) adicionales respectivamente se requieren para afinar la distribución de IVs resultante. Los stats de formas alternativas o Megaevoluciones también pueden mejorar los cálculos.</p>
	<div class="ext">
		<p><strong>Modo Equipo:</strong> Útil en Batallas por IVs; usa este modo para calcular varios Pokémon a la vez. Una Batalla por IVs consiste en coger un equipo de Pokémon de nivel bajo y luchar con un amigo online, forzando su subida a nivel 100 para anotar sus stats recalculados.</p>
		<p><strong>Modo Fila:</strong> Usa este modo para calcular y examinar el Pokémon seleccionado en detalle.</p>
	<h3>Cálculo de Stats</h3><p> Usando los <em>IVs medianos</em>, e introduciendo los EVs del Pokémon, esta función calcula con precisión los stats del Pokémon en el nivel deseado.</p>
	<h3>Cálculo de Poder Oculto</h3>
		<p>El tipo del Poder Oculto depende de los IVs del Pokémon, pero si ya sabes su tipo, esto puede ayudar a calcular los IVs.</p>
		<p>El <em>gurú del Poder Oculto</em> vive en Ciudad Fluxus, segunda casa al este desde el Centro Pokémon.</p>
		<p>Usando la distribución de IVs (o IVs medianos si se fija), puedes calcular todas las posibles combinaciones.</p>
	<h3>Herramientas para entrenar Esfuerzo</h3><dl>
		<dt>Control de EVs</dt><dd>Deselecciona una fila activa para activar el modo control, luego elige el objeto correspondiente, Pokémon rival y veces que lo has derrotado, para calcular los Puntos de Esfuerzo ganados.</dd>
		<dt>Cálculo de EVs</dt><dd>Especialmente útil para jugadores competitivos.</dd><dd>Primero calcula los stats actuales de tu Pokémon, luego altera dichos stats en la <em>primera fila</em>, luego usa esta función para ver cuántos EVs necesitas para alcanzar esos stats en concreto.</dd>
	</dl>
	</div>
</div></td>
</tr>
<tr><td class="primary">
¡Tu feedback y crítica es muy importante! <p class="center">Por favor <a class="tooltip" id="contact" href="http://www.legendarypokemon.net/contact?topic=IV%20Calculator" title="Pulsa [Guardar] antes de reportar un error." target="_blank">contacta al autor</a> para cualquier error o petición.</p>
</td>
<td class="secondary">Cortesía de <a href="http://www.legendarypokemon.net" target="_blank">LegendaryPokemon .net</a>
</td></tr>
</table>
</div><!-- end documentation -->

</div> <!-- end calculator --> <!-- Stop here if you want to include this in your page -->
</body>
</html>